
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>TLViz + PlotLy for interactive visualisations &#8212; TLViz 0.1.7 documentation</title> 
<link rel="stylesheet" href="../_static/tensorly_style.css">
<link rel="apple-touch-icon" sizes="180x180" href="../_static/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../_static/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../_static/favicon/favicon-16x16.png">
<link rel="manifest" href="../_static/favicon/site.webmanifest">
<link rel="mask-icon" href="../_static/favicon/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="../_static/favicon/favicon.ico">
<meta name="theme-color" content="#ffffff">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tensorly_style.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css" />

  
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
 <script src="../_static/navbar_burger.js"></script>
 <script defer src="https://use.fontawesome.com/releases/v5.14.0/js/all.js"></script>
 
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Optimisation diagnostics with PARAFAC models" href="plot_optimisation_diagnostic.html" />
    <link rel="prev" title="Core consistency" href="plot_core_consistency.html" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  </head>
<body  class="has-navbar-fixed-top">

  <header>
    <navbar>
      <nav class="navbar top-navbar is-fixed-top has-shadow is-flex-wrap-wrap" role="navigation" aria-label="main top navigation">
        <div class="navbar-brand">
        

          <a class="navbar-item" href="../index.html">
            <img src="../_static/tlviz_logo.svg" height="28">
          </a>
          <a class="navbar-item is-hidden-desktop" href="https://github.com/tensorly/viz" target="_blank">
              <span class="icon"><i class="fab fa-github"></i></span>
          </a>

          <a role="button" class="navbar-burger" data-target="top-nav-menu" aria-label="menu" aria-expanded="false">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
          </a>

        </div>
        
        <div class="navbar-menu" id="top-nav-menu">
        

          <div class="navbar-start">
            
              <a class="navbar-item" href="../about_tensors.html">
              Introduction
            </a>
              <a class="navbar-item" href="../installation.html">
              Installation
            </a>
              <a class="navbar-item" href="index.html">
              Examples
            </a>
              <a class="navbar-item" href="../api.html">
              API
            </a>
          </div>
        
          <div class="navbar-end">
            <div class="navbar-item">
            
            <a class="button is-hidden-touch is-dark" href="https://github.com/tensorly/viz" target="_blank">
              <span class="icon-text">
                <span class="icon is-large">
                  <i class="fab fa-github"></i>
                </span>
                <span>Github</span>
              </span>
            </a>

            </div> 
          </div> 
        </div> 

      </nav>
      
    </navbar>
  </header>


  <div id="column-container">
  <div class="columns is-mobile is-centered">
	
  
      <div class="column is-10-mobile is-one-third-tablet is-3-desktop is-hidden-mobile" id="sidebar">
    
    <aside class="sticky-nav sidebar-menu">
<div class="sidebar-search">
  <form class="field" id="searchbox" role="search" action="../search.html" method="get">
    <!-- <label class="label" id="searchlabel">Quick search</label> -->
    <div class="field has-addons">
      <div class="control is-expanded">
        <input class="input" type="text" placeholder="Search in TLViz" name="q" aria-labelledby="searchlabel autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      </div>
      <div class="control">
        <input class="button is-info" type="submit" value="Go" />
      </div>
    </div>
  </form>
  <script>document.getElementById('searchbox').style.display = "block"</script>

</div>
      
      <div class="sidebar-menu-toc">
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about_tensors.html">What are tensors and tensor decompositions?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Gallery of examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="plot_labelled_decompositions.html">Labelled decompositions</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_working_with_xarray.html">Working with xarray</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_core_consistency.html">Core consistency</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">TLViz + PlotLy for interactive visualisations</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_optimisation_diagnostic.html">Optimisation diagnostics with PARAFAC models</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_split_half_analysis.html">Split-half analysis for selecting the number of components</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_selecting_aminoacids_components.html">Selecting the number of components in PARAFAC models</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot_outlier_detection.html">Outlier detection with PARAFAC</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tensorly_backends.html">Working with TensorLy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contribution guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
</ul>
 
      </div>
    </aside>
  </div>
  

  <div class="column main-column">

    
    <div class="main-section">

      
      
      <div class="side-menu-toggle">
        <button class="button" id="toggle-sidebar" onclick="toggle_sidebar()">
          <span class="icon"><i class="fa fa-bars" aria-hidden="true"></i></span>
          <span>menu</span> 
        </button>
      </div>
      

      <div class="container content main-content">
        
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-auto-examples-plot-bike-plotly-py"><span class="std std-ref">here</span></a>
to download the full example code</p>
</div>
<section class="sphx-glr-example-title" id="tlviz-plotly-for-interactive-visualisations">
<span id="sphx-glr-auto-examples-plot-bike-plotly-py"></span><h1>TLViz + PlotLy for interactive visualisations<a class="headerlink" href="#tlviz-plotly-for-interactive-visualisations" title="Permalink to this heading">¶</a></h1>
<p>In this example, we’ll see how TLViz can be used together with PlotLy Express to produce rich, interactive visualisations of your extracted components with just a few lines of code.</p>
<section id="imports-and-utilities">
<h2>Imports and utilities<a class="headerlink" href="#imports-and-utilities" title="Permalink to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
<span class="kn">from</span> <span class="nn">tensorly.decomposition</span> <span class="kn">import</span> <span class="n">non_negative_parafac_hals</span>

<span class="kn">import</span> <span class="nn">tlviz</span>
</pre></div>
</div>
<p>To fit CP models, we need to solve a non-convex optimization problem, possibly with local minima. It is therefore beneficial
to fit several models with the same number of components using many different random initialisations.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fit_many_nn_parafac</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">num_components</span><span class="p">,</span> <span class="n">num_inits</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">non_negative_parafac_hals</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">num_components</span><span class="p">,</span> <span class="n">n_iter_max</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">init</span><span class="o">=</span><span class="s2">&quot;random&quot;</span><span class="p">,)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_inits</span><span class="p">)]</span>
</pre></div>
</div>
</section>
<section id="loading-the-data">
<h2>Loading the data<a class="headerlink" href="#loading-the-data" title="Permalink to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bike_data</span> <span class="o">=</span> <span class="n">tlviz</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">load_oslo_city_bike</span><span class="p">()</span>
<span class="n">bike_data</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;Bike trips&#x27; (End station name: 270, Year: 2, Month: 12,
                                Day of week: 7, Hour: 24)&gt;
array([[[[[ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  0.],
          ...,
          [ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  0.]],

         [[ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  0.],
          ...,
          [ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  0.]],

         [[ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  1.,  0.,  0.],
          [ 0.,  0.,  0., ...,  1.,  0.,  1.],
          ...,
...
          ...,
          [ 0.,  0.,  0., ...,  1.,  0.,  1.],
          [ 4.,  0.,  0., ...,  0.,  0.,  1.],
          [ 0.,  0.,  0., ...,  1.,  0.,  1.]],

         [[ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  2.,  0.,  1.],
          [ 0.,  0.,  0., ...,  3.,  0.,  0.],
          ...,
          [ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 1.,  0.,  0., ...,  1.,  1.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  0.]],

         [[ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  1.],
          ...,
          [ 1.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  1.]]]]])
Coordinates:
  * End station name  (End station name) object &#x27;7 Juni Plassen&#x27; ... &#x27;Økernve...
    lat               (End station name) float64 59.92 59.93 ... 59.93 59.92
    lon               (End station name) float64 10.73 10.75 ... 10.8 10.78
  * Hour              (Hour) int32 0 1 2 3 4 5 6 7 8 ... 16 17 18 19 20 21 22 23
  * Month             (Month) int32 1 2 3 4 5 6 7 8 9 10 11 12
  * Day of week       (Day of week) int32 0 1 2 3 4 5 6
  * Year              (Year) int32 2020 2021</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'Bike trips'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>End station name</span>: 270</li><li><span class='xr-has-index'>Year</span>: 2</li><li><span class='xr-has-index'>Month</span>: 12</li><li><span class='xr-has-index'>Day of week</span>: 7</li><li><span class='xr-has-index'>Hour</span>: 24</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-a1adaa4a-5296-4d67-96bd-69f56795560b' class='xr-array-in' type='checkbox' checked><label for='section-a1adaa4a-5296-4d67-96bd-69f56795560b' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 ... 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0</span></div><div class='xr-array-data'><pre>array([[[[[ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  0.],
          ...,
          [ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  0.]],

         [[ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  0.],
          ...,
          [ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  0.]],

         [[ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  1.,  0.,  0.],
          [ 0.,  0.,  0., ...,  1.,  0.,  1.],
          ...,
...
          ...,
          [ 0.,  0.,  0., ...,  1.,  0.,  1.],
          [ 4.,  0.,  0., ...,  0.,  0.,  1.],
          [ 0.,  0.,  0., ...,  1.,  0.,  1.]],

         [[ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  2.,  0.,  1.],
          [ 0.,  0.,  0., ...,  3.,  0.,  0.],
          ...,
          [ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 1.,  0.,  0., ...,  1.,  1.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  0.]],

         [[ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  1.],
          ...,
          [ 1.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  0.],
          [ 0.,  0.,  0., ...,  0.,  0.,  1.]]]]])</pre></div></div></li><li class='xr-section-item'><input id='section-a99e6a1e-5e15-43de-977d-5d5c61c2e2b8' class='xr-section-summary-in' type='checkbox'  checked><label for='section-a99e6a1e-5e15-43de-977d-5d5c61c2e2b8' class='xr-section-summary' >Coordinates: <span>(7)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>End station name</span></div><div class='xr-var-dims'>(End station name)</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>&#x27;7 Juni Plassen&#x27; ... &#x27;Økernveien&#x27;</div><input id='attrs-33a3f363-5a47-40c8-8f1a-82f080388c7f' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-33a3f363-5a47-40c8-8f1a-82f080388c7f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e2565e70-a13e-466e-9a06-8a2cf6f6f31f' class='xr-var-data-in' type='checkbox'><label for='data-e2565e70-a13e-466e-9a06-8a2cf6f6f31f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;7 Juni Plassen&#x27;, &#x27;AHO&#x27;, &#x27;Adamstuen&#x27;, ..., &#x27;Vår Frelsers gravlund sør&#x27;,
       &#x27;Økern Portal&#x27;, &#x27;Økernveien&#x27;], dtype=object)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>lat</span></div><div class='xr-var-dims'>(End station name)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>59.92 59.93 59.93 ... 59.93 59.92</div><input id='attrs-38700277-188d-4679-b89c-44517b2ada80' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-38700277-188d-4679-b89c-44517b2ada80' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-75b18f78-59e4-4918-83a3-ad95958ca6bd' class='xr-var-data-in' type='checkbox'><label for='data-75b18f78-59e4-4918-83a3-ad95958ca6bd' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([59.9150596 , 59.925265  , 59.932792  , 59.91118372, 59.9141971 ,
       59.92806671, 59.9172794 , 59.9107393 , 59.9378    , 59.9121472 ,
       59.9119691 , 59.934936  , 59.949239  , 59.94558091, 59.94278025,
       59.9424726 , 59.908454  , 59.93923   , 59.9256113 , 59.9123341 ,
       59.92547132, 59.92377441, 59.925488  , 59.92716771, 59.94377754,
       59.93924031, 59.94032925, 59.909006  , 59.94087373, 59.924732  ,
       59.94274211, 59.9154177 , 59.92012812, 59.91783549, 59.920218  ,
       59.91366109, 59.90918421, 59.919001  , 59.9273747 , 59.926929  ,
       59.92507   , 59.927292  , 59.91731889, 59.9306868 , 59.929843  ,
       59.935342  , 59.9363277 , 59.910974  , 59.94621938, 59.9204038 ,
       59.9113923 , 59.905323  , 59.92875027, 59.919111  , 59.919524  ,
       59.91320243, 59.9131891 , 59.91662196, 59.92760587, 59.9102277 ,
       59.922839  , 59.94545063, 59.915424  , 59.9110506 , 59.920995  ,
       59.9327726 , 59.92753765, 59.9261831 , 59.9225392 , 59.92808   ,
       59.9103558 , 59.9170851 , 59.9347352 , 59.9198098 , 59.91381588,
       59.93795737, 59.90707579, 59.945955  , 59.93902555, 59.91728078,
       59.9131792 , 59.92464488, 59.9337026 , 59.91252   , 59.9224256 ,
       59.91459879, 59.922777  , 59.9315302 , 59.91652054, 59.939244  ,
       59.924342  , 59.92324004, 59.92763408, 59.9146509 , 59.915451  ,
       59.91178404, 59.9121109 , 59.915088  , 59.9268942 , 59.92774803,
...
       59.919927  , 59.9101207 , 59.910331  , 59.921768  , 59.9262242 ,
       59.9238826 , 59.9205528 , 59.9147672 , 59.9191421 , 59.92843404,
       59.9534114 , 59.9069197 , 59.91357497, 59.9108469 , 59.910924  ,
       59.91424027, 59.937743  , 59.90692217, 59.92095635, 59.920335  ,
       59.9207284 , 59.91546787, 59.93886309, 59.929542  , 59.919252  ,
       59.921673  , 59.91018085, 59.91015447, 59.914871  , 59.91279341,
       59.9112227 , 59.9163309 , 59.9139786 , 59.92226851, 59.92272398,
       59.930596  , 59.917485  , 59.9212063 , 59.923229  , 59.9243639 ,
       59.922337  , 59.94743324, 59.911453  , 59.9099822 , 59.91372007,
       59.91336   , 59.923703  , 59.92979845, 59.924821  , 59.9268706 ,
       59.91796766, 59.94114763, 59.92958562, 59.92714   , 59.91323317,
       59.9339754 , 59.94671045, 59.91065302, 59.914586  , 59.920852  ,
       59.929419  , 59.90512438, 59.918632  , 59.915262  , 59.932383  ,
       59.91252237, 59.9261462 , 59.91857814, 59.92208   , 59.909467  ,
       59.9117763 , 59.91598309, 59.93285662, 59.93507   , 59.90800466,
       59.9230577 , 59.952659  , 59.9433939 , 59.914943  , 59.9115945 ,
       59.915667  , 59.929545  , 59.9360307 , 59.937913  , 59.9246852 ,
       59.92503518, 59.922485  , 59.9200421 , 59.9281319 , 59.91351553,
       59.9244031 , 59.91271286, 59.903989  , 59.903989  , 59.93308704,
       59.92251   , 59.908576  , 59.919463  , 59.93090396, 59.9167376 ])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>lon</span></div><div class='xr-var-dims'>(End station name)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>10.73 10.75 10.73 ... 10.8 10.78</div><input id='attrs-172995d5-8401-405a-84c3-0c37f024460f' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-172995d5-8401-405a-84c3-0c37f024460f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-40e8d4b6-f537-4820-a79a-0c85648a0dd1' class='xr-var-data-in' type='checkbox'><label for='data-40e8d4b6-f537-4820-a79a-0c85648a0dd1' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([10.7312715 , 10.750462  , 10.734457  , 10.73003456, 10.7428828 ,
       10.75120264, 10.7581553 , 10.7609998 , 10.7541    , 10.7480527 ,
       10.7478583 , 10.749466  , 10.768576  , 10.76032388, 10.72299373,
       10.72371525, 10.741869  , 10.75917   , 10.760926  , 10.752292  ,
       10.73121932, 10.73471287, 10.746058  , 10.74975456, 10.76012113,
       10.76877132, 10.76613667, 10.75618   , 10.72077885, 10.724628  ,
       10.70383303, 10.76933022, 10.76887541, 10.76637377, 10.717978  ,
       10.75729365, 10.81431433, 10.692321  , 10.7960147 , 10.776971  ,
       10.775996  , 10.773185  , 10.71690904, 10.74627335, 10.71128473,
       10.726472  , 10.7054333 , 10.7277001 , 10.72462631, 10.691147  ,
       10.74728183, 10.7689579 , 10.76754638, 10.736179  , 10.70884   ,
       10.76757939, 10.7897605 , 10.78330906, 10.7659847 , 10.7208788 ,
       10.775658  , 10.71386796, 10.714577  , 10.7493737 , 10.750358  ,
       10.7114661 , 10.7102628 , 10.7098327 , 10.7045406 , 10.708767  ,
       10.7051061 , 10.7128796 , 10.7096985 , 10.651118  , 10.79809336,
       10.71948853, 10.7791644 , 10.710392  , 10.72300262, 10.7083758 ,
       10.7607798 , 10.78172651, 10.7519299 , 10.76224   , 10.7554274 ,
       10.7533985 , 10.738655  , 10.762169  , 10.74920223, 10.774319  ,
       10.79285   , 10.79283144, 10.79924938, 10.7598719 , 10.758328  ,
       10.78388435, 10.7661939 , 10.7222803 , 10.7207894 , 10.76126577,
...
       10.735428  , 10.7407129 , 10.75011   , 10.730476  , 10.7296246 ,
       10.7313627 , 10.7342854 , 10.740971  , 10.7196414 , 10.75943015,
       10.7577241 , 10.7603118 , 10.72622974, 10.7303766 , 10.736215  ,
       10.73277135, 10.751648  , 10.74653027, 10.71405563, 10.760804  ,
       10.7594857 , 10.75114087, 10.78060325, 10.781053  , 10.774712  ,
       10.67666   , 10.75169875, 10.75198091, 10.701037  , 10.71010303,
       10.7481976 , 10.716349  , 10.7474667 , 10.67957975, 10.67862515,
       10.714778  , 10.732128  , 10.7699892 , 10.766171  , 10.7615858 ,
       10.7617503 , 10.7325697 , 10.776072  , 10.7914482 , 10.73588665,
       10.737663  , 10.740542  , 10.74354077, 10.739909  , 10.7384634 ,
       10.73862888, 10.75077512, 10.732839  , 10.730981  , 10.74995876,
       10.7521029 , 10.77380529, 10.73736528, 10.735453  , 10.733357  ,
       10.726195  , 10.75376355, 10.757867  , 10.7253157 , 10.741475  ,
       10.75091019, 10.7310355 , 10.70389953, 10.68588   , 10.722509  ,
       10.73511301, 10.75155119, 10.77763347, 10.76915   , 10.76257004,
       10.7717192 , 10.751165  , 10.7482848 , 10.773977  , 10.7617736 ,
       10.7775665 , 10.7489862 , 10.7364516 , 10.73048   , 10.7395045 ,
       10.81202183, 10.720896  , 10.726634  , 10.71842   , 10.75733467,
       10.7130691 , 10.72717083, 10.740627  , 10.741077  , 10.70396794,
       10.75101   , 10.786856  , 10.743829  , 10.8019397 , 10.779916  ])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>Hour</span></div><div class='xr-var-dims'>(Hour)</div><div class='xr-var-dtype'>int32</div><div class='xr-var-preview xr-preview'>0 1 2 3 4 5 6 ... 18 19 20 21 22 23</div><input id='attrs-71d3a9b9-76de-4b4c-be73-4d315d736a6f' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-71d3a9b9-76de-4b4c-be73-4d315d736a6f' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-c25daaf2-6882-4d78-9dd2-dc94760a294e' class='xr-var-data-in' type='checkbox'><label for='data-c25daaf2-6882-4d78-9dd2-dc94760a294e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17,
       18, 19, 20, 21, 22, 23], dtype=int32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>Month</span></div><div class='xr-var-dims'>(Month)</div><div class='xr-var-dtype'>int32</div><div class='xr-var-preview xr-preview'>1 2 3 4 5 6 7 8 9 10 11 12</div><input id='attrs-504fb481-1396-45cb-b5fc-a85cf70e8ac1' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-504fb481-1396-45cb-b5fc-a85cf70e8ac1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-4105343d-ae81-4138-be85-200640ffee4d' class='xr-var-data-in' type='checkbox'><label for='data-4105343d-ae81-4138-be85-200640ffee4d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([ 1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12], dtype=int32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>Day of week</span></div><div class='xr-var-dims'>(Day of week)</div><div class='xr-var-dtype'>int32</div><div class='xr-var-preview xr-preview'>0 1 2 3 4 5 6</div><input id='attrs-30985813-6b64-4a63-a573-cec3786cc4a2' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-30985813-6b64-4a63-a573-cec3786cc4a2' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1f9ea545-999f-413a-8748-f7656a36e0f2' class='xr-var-data-in' type='checkbox'><label for='data-1f9ea545-999f-413a-8748-f7656a36e0f2' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([0, 1, 2, 3, 4, 5, 6], dtype=int32)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>Year</span></div><div class='xr-var-dims'>(Year)</div><div class='xr-var-dtype'>int32</div><div class='xr-var-preview xr-preview'>2020 2021</div><input id='attrs-79aeb322-1c39-4233-bcff-93fcb1442117' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-79aeb322-1c39-4233-bcff-93fcb1442117' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f889831d-46b2-4a3d-a5c5-81e27429f07c' class='xr-var-data-in' type='checkbox'><label for='data-f889831d-46b2-4a3d-a5c5-81e27429f07c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([2020, 2021], dtype=int32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-742348d0-c19e-4fbe-b6ee-ce1ce9eb83ae' class='xr-section-summary-in' type='checkbox'  ><label for='section-742348d0-c19e-4fbe-b6ee-ce1ce9eb83ae' class='xr-section-summary' >Indexes: <span>(5)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>End station name</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-2c2caad2-09b3-47ed-8e33-3ae9ea64c916' class='xr-index-data-in' type='checkbox'/><label for='index-2c2caad2-09b3-47ed-8e33-3ae9ea64c916' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;7 Juni Plassen&#x27;, &#x27;AHO&#x27;, &#x27;Adamstuen&#x27;, &#x27;Aker Brygge&#x27;, &#x27;Akersgata&#x27;,
       &#x27;Alexander Kiellands Plass&#x27;, &#x27;Anker Hotel&#x27;, &#x27;Annette Thommessens Plass&#x27;,
       &#x27;Arendalsgata&#x27;, &#x27;Arkaden Nord&#x27;,
       ...
       &#x27;Vestkanttorvet&#x27;, &#x27;Via Vika&#x27;, &#x27;Vippetangen vest&#x27;, &#x27;Vippetangen øst&#x27;,
       &#x27;Volvat&#x27;, &#x27;Vulkan&#x27;, &#x27;Vålerenga&#x27;, &#x27;Vår Frelsers gravlund sør&#x27;,
       &#x27;Økern Portal&#x27;, &#x27;Økernveien&#x27;],
      dtype=&#x27;object&#x27;, name=&#x27;End station name&#x27;, length=270))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>Hour</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-340d310b-e7c6-4905-8302-28752aca166a' class='xr-index-data-in' type='checkbox'/><label for='index-340d310b-e7c6-4905-8302-28752aca166a' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Int64Index([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,
            17, 18, 19, 20, 21, 22, 23],
           dtype=&#x27;int64&#x27;, name=&#x27;Hour&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>Month</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-7fee758b-a5f1-454b-bf16-451131be2474' class='xr-index-data-in' type='checkbox'/><label for='index-7fee758b-a5f1-454b-bf16-451131be2474' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Int64Index([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], dtype=&#x27;int64&#x27;, name=&#x27;Month&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>Day of week</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-b790b03f-b302-4cc6-a7bb-da26464ec731' class='xr-index-data-in' type='checkbox'/><label for='index-b790b03f-b302-4cc6-a7bb-da26464ec731' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Int64Index([0, 1, 2, 3, 4, 5, 6], dtype=&#x27;int64&#x27;, name=&#x27;Day of week&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>Year</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-cce11dbb-d885-494f-b91b-d34c522481c2' class='xr-index-data-in' type='checkbox'/><label for='index-cce11dbb-d885-494f-b91b-d34c522481c2' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Int64Index([2020, 2021], dtype=&#x27;int64&#x27;, name=&#x27;Year&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-56a0b85b-ee6b-4b21-bacb-51591fc46231' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-56a0b85b-ee6b-4b21-bacb-51591fc46231' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div>
</div>
<br />
<br /><p>We see that there are two metadata columns in the <code class="docutils literal notranslate"><span class="pre">End</span> <span class="pre">station</span> <span class="pre">name</span></code> axis: <code class="docutils literal notranslate"><span class="pre">lat</span></code> and <code class="docutils literal notranslate"><span class="pre">lon</span></code>.
These contain the coordinates for each bike station.</p>
</section>
<section id="fitting-the-model">
<h2>Fitting the model<a class="headerlink" href="#fitting-the-model" title="Permalink to this heading">¶</a></h2>
<p>We fit five three-component PARAFAC2 model candidates to this data and select the one with the lowest error
(to see why a three-component model is a good choice, see the <a class="reference internal" href="plot_split_half_analysis.html#split-half"><span class="std std-ref">split-half analysis example</span></a>).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_candidates</span> <span class="o">=</span> <span class="n">fit_many_nn_parafac</span><span class="p">(</span><span class="n">bike_data</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">num_inits</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">selected_cp</span> <span class="o">=</span> <span class="n">tlviz</span><span class="o">.</span><span class="n">multimodel_evaluation</span><span class="o">.</span><span class="n">get_model_with_lowest_error</span><span class="p">(</span><span class="n">model_candidates</span><span class="p">,</span> <span class="n">bike_data</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="postprocessing">
<h2>Postprocessing<a class="headerlink" href="#postprocessing" title="Permalink to this heading">¶</a></h2>
<p>If we just postprocess, then we get a labelled CP tensor. That is, the factor matrices are transformed into Pandas
DataFrames with the same index as the main coordinates of the xarray DataArray. However, in this case, we also want
to include the additional coordinates (i.e. the latitude and longitude) from this DataArray as metadata-columns.
To include these as well, we set the <code class="docutils literal notranslate"><span class="pre">include_metadata</span></code> flag in <code class="docutils literal notranslate"><span class="pre">postprocess</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cp_with_metadata</span> <span class="o">=</span> <span class="n">tlviz</span><span class="o">.</span><span class="n">postprocessing</span><span class="o">.</span><span class="n">postprocess</span><span class="p">(</span><span class="n">selected_cp</span><span class="p">,</span> <span class="n">bike_data</span><span class="p">,</span> <span class="n">include_metadata</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">weights</span><span class="p">,</span> <span class="p">(</span><span class="n">end_station</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day_of_week</span><span class="p">,</span> <span class="n">hour</span><span class="p">)</span> <span class="o">=</span> <span class="n">cp_with_metadata</span>
</pre></div>
</div>
</section>
<section id="converting-the-data-to-a-tidy-format">
<h2>Converting the data to a tidy format<a class="headerlink" href="#converting-the-data-to-a-tidy-format" title="Permalink to this heading">¶</a></h2>
<p>PlotLy assumes that the data is <em>tidy</em>, but factor matrices are not. We have one column per factor matrix, which
makes it cumbersome to use with plotly. We therefore have a <code class="docutils literal notranslate"><span class="pre">factor_matrix_to_tidy</span></code>-function in <code class="docutils literal notranslate"><span class="pre">tlviz</span></code>
which simply converts a factor matrix (with potential metadata) into a tidy format. See
<code class="docutils literal notranslate"><span class="pre">tlviz.postprocessing.factor_matrix_to_tidy</span></code> for more info.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tidy_end_station_data</span> <span class="o">=</span> <span class="n">tlviz</span><span class="o">.</span><span class="n">postprocessing</span><span class="o">.</span><span class="n">factor_matrix_to_tidy</span><span class="p">(</span><span class="n">end_station</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="s2">&quot;Popularity&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="density-map-of-the-end-station-components">
<h2>Density map of the end station components<a class="headerlink" href="#density-map-of-the-end-station-components" title="Permalink to this heading">¶</a></h2>
<p>Now, we use the <code class="docutils literal notranslate"><span class="pre">density_mapbox</span></code> function in PlotLy Express to create a density map of the End station components.
We can use the animation frame to get a nice slider for the different components.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">px</span><span class="o">.</span><span class="n">density_mapbox</span><span class="p">(</span>
    <span class="n">tlviz</span><span class="o">.</span><span class="n">postprocessing</span><span class="o">.</span><span class="n">factor_matrix_to_tidy</span><span class="p">(</span><span class="n">end_station</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="s2">&quot;Popularity&quot;</span><span class="p">),</span>
    <span class="n">lat</span><span class="o">=</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span>
    <span class="n">lon</span><span class="o">=</span><span class="s2">&quot;lon&quot;</span><span class="p">,</span>
    <span class="n">z</span><span class="o">=</span><span class="s2">&quot;Popularity&quot;</span><span class="p">,</span>
    <span class="n">animation_frame</span><span class="o">=</span><span class="s2">&quot;Component&quot;</span><span class="p">,</span>
    <span class="n">hover_data</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;End station name&quot;</span><span class="p">],</span>
    <span class="n">zoom</span><span class="o">=</span><span class="mf">10.5</span><span class="p">,</span>
    <span class="n">opacity</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">mapbox_style</span><span class="o">=</span><span class="s2">&quot;carto-positron&quot;</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script src="https://cdn.plot.ly/plotly-2.17.1.min.js"></script>                <div id="dd02096f-acab-4152-8d34-ef1e593ffc7d" class="plotly-graph-div" style="height:525px; width:600px;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("dd02096f-acab-4152-8d34-ef1e593ffc7d")) {                    Plotly.newPlot(                        "dd02096f-acab-4152-8d34-ef1e593ffc7d",                        [{"coloraxis":"coloraxis","customdata":[["7 Juni Plassen"],["AHO"],["Adamstuen"],["Aker Brygge"],["Akersgata"],["Alexander Kiellands Plass"],["Anker Hotel"],["Annette Thommessens Plass"],["Arendalsgata"],["Arkaden Nord"],["Arkaden S\u00f8r"],["Arkitekt Rivertz Plass"],["BI Nydalen"],["Badebakken"],["Bak Niels Treschows hus nord"],["Bak Niels Treschows hus s\u00f8r"],["Bankplassen"],["Bentsebrugata"],["Birkelunden"],["Biskop Gunnerus' gate"],["Bislett Stadion"],["Bislettgata"],["Bjerregaards gate"],["Bjerregaardsgate \u00d8st"],["Bj\u00f8lsen Studentby"],["Bj\u00f8lsen m\u00f8lle"],["Bj\u00f8lsendumpa"],["Bj\u00f8rvika"],["Blindern studentparkering"],["Bogstadveien"],["Borgenveien"],["Botanisk Hage s\u00f8r"],["Botanisk Hage vest"],["Botanisk hage s\u00f8r-vest"],["Briskeby"],["Brugata"],["Brynseng T-bane"],["Bygd\u00f8y all\u00e9"],["B\u00f8kkerveien"],["Carl Berners plass nord"],["Carl Berners plass s\u00f8r"],["Chr. Michelsens Gate"],["Colbj\u00f8rnsens gate"],["Colletts gate"],["Colosseum Kino"],["Det Teologiske fakultet"],["Diakonhjemmet"],["Dokkveien"],["Domus Athletica"],["Drammensveien"],["Dronningens gate"],["Dyvekes bru"],["D\u00e6lenenggata"],["Edvard Storms gate"],["Elisenberg"],["Enerhaugen"],["Ensj\u00f8 T-bane"],["Ensj\u00f8veien"],["Fagerheimgata"],["Filipstadveien"],["Finnmarksgata"],["Forskningsveien"],["Fram-g\u00e5rden"],["Fred Olsens gate"],["Fredensborg"],["Friggfeltet"],["Frogner Stadion"],["Frogner Tennisklubb"],["Frogner plass"],["Frognerbadet"],["Frognerstranda"],["Frognerveien"],["Fr\u00f8en T-bane"],["Furulund"],["Fyrstikktorget"],["Fysikkbygningen"],["Galgeberg"],["Gaustad T-bane"],["Georg Morgenstiernes hus"],["Gimle Kino"],["Goethe Institut"],["Grenseveien"],["Griffenfeldts gate"],["Gr\u00f8nlands torg"],["Gr\u00fcnerhagen Nord"],["Gunerius"],["Hallings gate"],["Hall\u00e9nparken"],["Hammersborg Torg"],["Hans Nielsen Hauges plass"],["Hasle"],["Hasle Torg"],["HasleLinje"],["Hausmanns bru"],["Hausmanns gate"],["Hedmarksgata"],["Helga Helgesens plass"],["Henrik Ibsens gate"],["Henrik Wergelands all\u00e9"],["Hesselbergs Gate"],["Hoff terrasse holdeplass"],["Hoffsveien"],["Holbergs Plass"],["Holbergs plass"],["Huitfeldts gate"],["Huk"],["Hydroparken"],["Idioten"],["Ila"],["Jakob kirke"],["Jarlsborgveien"],["Jenny Braatens Plass"],["Jens Bjelkes Gate"],["Jens Bjelkes gate"],["Jernbanetorget"],["Jess Carlsens gate"],["John Colletts plass"],["Jordalgata"],["Kampen park \u00d8st"],["Karenlyst all\u00e9"],["Karenslyst all\u00e9"],["Kirkegata 15"],["Kirkeristen"],["Kirkeveien"],["Kjeld Stubs gate"],["Klingenberggata"],["Kontraskj\u00e6ret"],["Krebs' gate"],["Kv\u00e6rnerbyen"],["Kv\u00e6rnerveien"],["K\u00f8benhavngata busstopp"],["Lakkegata"],["Landstads gate"],["Langkaia"],["Lille Grensen"],["Lille Schous plass"],["Lilleborgbanen"],["Linaaes gate"],["Lindern"],["Lodalen busstopp"],["L\u00f8renporten"],["L\u00f8renveien"],["Mailundveien"],["Majorstua skole"],["Majorstuen"],["Majorstuen T-bane"],["Majorstuveien"],["Mandalls gate"],["Marcus Thranes gate"],["Marienlyst"],["Marienlystparken"],["Meltzers gate"],["Monolittveien"],["Munkedamsveien"],["Munkegata"],["Munkegata trikkestopp"],["Myral\u00f8kka \u00d8st"],["M\u00f8lleparken"],["M\u00f8llergata"],["Nedre Slottsgate"],["Nordre gate"],["Norsk Folkemuseum"],["Nydalen"],["Nylandsveien"],["Olaf Ryes plass"],["Olav Kyrres plass"],["Oscars gate"],["Oslo Handelsgymnasium"],["Oslo Hospital"],["Oslo Plaza"],["OsloMet"],["Over R\u00e5dhusgata"],["Pal\u00e9haven"],["Parkveien"],["Pilestredet"],["Pilestredet 63"],["Pilestredet Studenthus"],["Professor Aschehougs plass"],["Riddervoldplass"],["Ringnes Park"],["Rolf Wickstr\u00f8ms vei"],["Rostockgata"],["Rusel\u00f8kkg\u00e5rden"],["R\u00e5dhusbrygge 4"],["R\u00e5dhusgata"],["Saga Kino"],["Sagene bussholdeplass"],["Salt"],["Schives gate"],["Schous plass"],["Schous plass trikkestopp"],["Sentrum Scene"],["Sinsen T-bane"],["Sinsenveien"],["Sirkustomta"],["Sj\u00f8lyst"],["Sj\u00f8siden ved fontenen"],["Sj\u00f8siden ved trappen"],["Skarpsnoparken"],["Skillebekk"],["Skippergata"],["Skovveien"],["Skr\u00e5ninga"],["Sk\u00f8yen"],["Sk\u00f8yen Stasjon"],["Slemdalsveien"],["Slottsparken \u00d8st"],["Sofienberggata"],["Sofienbergparken nord"],["Sofienbergparken nordvest"],["Sofienbergparken s\u00f8r"],["Sognsveien"],["Sommerfrydhagen"],["Sotahj\u00f8rnet"],["Spikersuppa Vest"],["Spikersuppa \u00d8st"],["St. Hanshaugen"],["St. Hanshaugen park nord"],["St. Hanshaugen park s\u00f8r"],["St. Hanshaugen park vest"],["St. Olavs gate"],["Stavangergata"],["Stensgata"],["Stensparken"],["Stjerneplassen"],["Stockfleths gate"],["Storo Storsenter"],["Stortingstunellen"],["Studenterlunden"],["Studentparlamentet"],["Suhms gate"],["Sukkerbiten"],["S\u00f8ndre gate"],["S\u00f8rvest for Slottsparken"],["Tannlegeh\u00f8yskolen"],["The Hub"],["Thereses gate"],["Thomas Heftyes plass"],["Thune"],["Tjuvholmen"],["Tordenskiolds gate"],["Torggata"],["Torshovdalen \u00f8st"],["Torshovparken vest"],["Trelastgata"],["Trondheimsveien"],["T\u00e5sen Senter"],["T\u00e5senl\u00f8kka"],["T\u00f8yen skole"],["T\u00f8yenbekken"],["T\u00f8yenparken"],["Uelands gate"],["Ullev\u00e5l sykehus"],["Ullev\u00e5lsall\u00e9en"],["Ullev\u00e5lsveien"],["Ulven Torg"],["Uranienborgparken"],["Uranienborgveien"],["Valkyrieplassen"],["Vaterlandsparken"],["Vestkanttorvet"],["Via Vika"],["Vippetangen vest"],["Vippetangen \u00f8st"],["Volvat"],["Vulkan"],["V\u00e5lerenga"],["V\u00e5r Frelsers gravlund s\u00f8r"],["\u00d8kern Portal"],["\u00d8kernveien"]],"hovertemplate":"Component=0<br>Popularity=%{z}<br>lat=%{lat}<br>lon=%{lon}<br>End station name=%{customdata[0]}<extra></extra>","lat":[59.9150596,59.925265,59.932792,59.91118372188379,59.9141971,59.92806670615684,59.9172794,59.9107393,59.9378,59.9121472,59.9119691,59.934936,59.949239,59.94558091179507,59.94278024854256,59.94247260310697,59.908454,59.93923,59.9256113,59.9123341,59.925471317049954,59.92377440938114,59.925488,59.92716771401357,59.943777539367225,59.9392403070359,59.94032925181832,59.909006,59.940873733543725,59.924732,59.94274210647367,59.91541769802439,59.92012811804052,59.91783548782385,59.920218,59.91366109486603,59.90918420865812,59.919001,59.9273747,59.926929,59.92507,59.927292,59.91731888534716,59.93068679863987,59.92984300295666,59.935342,59.9363277,59.910974,59.946219381760216,59.9204038,59.911392299457006,59.905323,59.9287502718149,59.919111,59.919524,59.91320242563816,59.9131891,59.91662195885618,59.92760586837719,59.9102277,59.922839,59.94545063370256,59.915424,59.9110506,59.920995,59.9327726,59.92753764682686,59.9261831,59.9225392,59.92808,59.9103558,59.9170851,59.9347352,59.9198098,59.91381587564694,59.937957367051965,59.90707579234818,59.945955,59.939025551395765,59.91728078292675,59.9131792,59.92464487862039,59.9337026,59.91252,59.9224256,59.91459878869395,59.922777,59.9315302,59.91652053839767,59.939244,59.924342,59.923240042155456,59.92763407981436,59.9146509,59.915451,59.91178403655783,59.9121109,59.915088,59.9268942,59.92774803110845,59.9272941,59.923898,59.9193095,59.9193095,59.9126844,59.898126,59.914145,59.93102013218461,59.931828,59.917866,59.9304645,59.928349,59.919179,59.919179,59.911901,59.9186359,59.940398,59.908227,59.915182,59.92033,59.92033,59.91015615055511,59.91300035973293,59.93347989334691,59.912711,59.913150534075015,59.910242,59.935995,59.904473,59.90591083488326,59.9294565845173,59.9172088,59.929005,59.9080552,59.9138973,59.920259,59.93363159074286,59.91382393242077,59.9358883,59.9034528,59.92871096669328,59.93087712510462,59.9309181,59.9294351,59.929045,59.92985724219502,59.926697,59.9123469,59.93277225626508,59.932432498521095,59.93215,59.9180141,59.935947,59.9135227,59.908255,59.908255,59.937205,59.9283928,59.91537003977052,59.913245,59.92114988507087,59.907674,59.952868,59.9156603,59.922425,59.9193337,59.9224222,59.914306,59.90321254732584,59.91218291295141,59.919927,59.9101207,59.910331,59.921768,59.9262242,59.9238826,59.9205528,59.9147672,59.9191421,59.92843404417577,59.9534114,59.90691970255054,59.91357497092093,59.9108469,59.910924,59.91424026794647,59.937743,59.90692216719828,59.92095635370271,59.920335,59.9207284,59.91546786564256,59.938863086921295,59.929542,59.919252,59.921673,59.91018085263352,59.91015446696496,59.914871,59.912793405455375,59.9112227,59.9163309,59.9139786,59.92226850808104,59.922723981014094,59.930596,59.917485,59.9212063,59.923229,59.9243639,59.922337,59.94743324225673,59.911453,59.9099822,59.91372007130073,59.91336,59.923703,59.92979845370007,59.924821,59.9268706,59.9179676629428,59.94114763297182,59.92958561753996,59.92714,59.91323316606503,59.9339754,59.94671044754387,59.91065301806209,59.914586,59.920852,59.929419,59.90512438070349,59.918632,59.915262,59.932383,59.91252237023375,59.9261462,59.91857814333677,59.92208,59.909467,59.91177629920927,59.91598309274519,59.93285662158759,59.93507,59.90800465532893,59.9230577,59.952659,59.9433939,59.914943,59.9115945,59.915667,59.929545,59.9360307,59.937913,59.9246852,59.92503517848644,59.922485,59.9200421,59.9281319,59.91351552854147,59.9244031,59.91271286014364,59.903989,59.903989,59.9330870371029,59.92251,59.908576,59.919463,59.930903961728745,59.9167376],"lon":[10.7312715,10.750462,10.734457,10.730034556850455,10.7428828,10.751202636819611,10.7581553,10.7609998,10.7541,10.7480527,10.7478583,10.749466,10.768576,10.760323881579982,10.722993731144015,10.723715245368956,10.741869,10.75917,10.760926,10.752292,10.73121932213806,10.734712874574,10.746058,10.749754560118864,10.760121127577955,10.768771317790996,10.766136667493829,10.75618,10.720778851520524,10.724628,10.70383303125402,10.76933022142641,10.768875408563598,10.766373769557958,10.717978,10.75729364846211,10.81431433498766,10.692321,10.7960147,10.776971,10.775996,10.773185,10.716909039918278,10.746273349149249,10.711284727205708,10.726472,10.7054333,10.7277001,10.724626314653564,10.691147,10.747281829592453,10.7689579,10.767546377298158,10.736179,10.70884,10.767579386407874,10.7897605,10.783309055819714,10.76598469881135,10.7208788,10.775658,10.713867957672134,10.714577,10.7493737,10.750358,10.7114661,10.71026280326126,10.7098327,10.7045406,10.708767,10.7051061,10.7128796,10.7096985,10.651118,10.798093360118871,10.719488529430388,10.779164402446728,10.710392,10.723002619643406,10.708375798767436,10.7607798,10.781726510450724,10.7519299,10.76224,10.7554274,10.753398500006654,10.738655,10.762169,10.749202233135232,10.774319,10.79285,10.792831438028704,10.799249379762283,10.7598719,10.758328,10.783884345957915,10.7661939,10.7222803,10.7207894,10.761265771390583,10.6755714,10.6760339,10.7343051,10.7343051,10.7229003,10.675096,10.715505,10.736036647971048,10.748745,10.754898,10.6757833,10.77837,10.764162,10.764162,10.749929,10.7523939,10.730036,10.781088,10.782129,10.683814,10.683814,10.743456971511703,10.746760585982289,10.726294394131088,10.735595,10.732281291700131,10.73857,10.765413,10.786167,10.778592132296495,10.769121495700826,10.7622135,10.7496755,10.7479977,10.7423101,10.760629,10.769118139881124,10.745704482209018,10.7350062,10.777958,10.79991480182082,10.791823716034967,10.7728203,10.7136816,10.716926,10.71456623677068,10.716195,10.7638147,10.758594919923468,10.721762294477472,10.723478,10.7184345,10.681138,10.7301061,10.7678,10.7678,10.7605813,10.7559693,10.748493387102522,10.743669,10.754714015938562,10.686843,10.766483,10.7622812,10.758182,10.6968953,10.7272388,10.720202,10.7673442932541,10.7544337247013,10.735428,10.7407129,10.75011,10.730476,10.7296246,10.7313627,10.7342854,10.740971,10.7196414,10.75943014633117,10.7577241,10.760311802881915,10.726229742333288,10.7303766,10.736215,10.732771354719745,10.751648,10.746530272588243,10.714055629614734,10.760804,10.7594857,10.751140873016311,10.780603250331886,10.781053,10.774712,10.67666,10.751698750995615,10.751980909227372,10.701037,10.710103028570302,10.7481976,10.716349,10.7474667,10.679579749668129,10.67862514536896,10.714778,10.732128,10.7699892,10.766171,10.7615858,10.7617503,10.732569703704817,10.776072,10.7914482,10.735886645853412,10.737663,10.740542,10.743540765932096,10.739909,10.7384634,10.738628884264756,10.750775120272449,10.732839000000013,10.730981,10.749958763650312,10.7521029,10.773805285879131,10.737365277561024,10.735453,10.733357,10.726195,10.753763553726516,10.757867,10.7253157,10.741475,10.750910185807754,10.7310355,10.703899530059402,10.68588,10.722509,10.735113005880237,10.75155119076095,10.777633472422016,10.76915,10.7625700380287,10.7717192,10.751165,10.7482848,10.773977,10.7617736,10.7775665,10.7489862,10.7364516,10.73048,10.7395045,10.81202182917832,10.720896,10.726634,10.71842,10.757334670552268,10.7130691,10.727170827087008,10.740627,10.741077,10.703967938028702,10.75101,10.786856,10.743829,10.80193969590286,10.779916],"name":"","opacity":0.5,"subplot":"mapbox","z":[0.05136087942475344,0.11076715197804435,0.03156354715917445,0.027884333856937716,0.0364190123871929,0.23755331938115462,0.044160293445379764,0.04893238081632208,0.04924507536573959,0.019868804807851293,0.0047983804135663015,0.025478529795682346,0.026091681909291148,0.02399031457955772,0.005692422631832595,0.0013688009649198624,0.0,0.06394067274906931,0.11520609682980973,0.045960747648800954,0.12625788193503673,0.11083635132884984,0.1390273273507393,0.07645999880661992,0.05689773707070121,0.02239795205620344,0.033177779711299774,0.059810518338128976,0.0035200378910847444,0.1252765641489745,0.007690562940302101,0.12524071510880652,0.03569721018109535,0.05329558284340957,0.047663560330943405,0.03957284528089732,0.008901895525655972,0.019846551548176525,0.013212534696399676,0.02163292740867704,0.09575227066342051,0.07176853376223395,0.04396830769619873,0.022180488047521013,0.02121605174573073,0.011345841055472016,0.0013396574296236535,0.0530047633831613,0.005669895456977972,0.023213059960409427,0.016599950797380164,0.04017562208648971,0.06526925430284605,0.03974786704324803,0.07219609359343261,0.03956960258516728,0.032625796996544464,0.01415750042980885,0.09222248637930262,0.05361762243903676,0.040007865229968916,0.0023520790960765226,0.04616969608541238,0.022130265313754414,0.08251447551448964,0.00880524148456881,0.03715355675768777,0.012770788075476939,0.08010225700903618,0.014356397306936568,0.06509305178686568,0.05445299074597458,0.006957269407135026,0.01042217205768372,0.013523194940393155,0.0008389952307192239,0.07030938597385537,0.0015407967149170243,0.0,0.06319341795464153,0.007421473455967115,0.010017072806559545,0.03151205355754007,0.07214498463266199,0.07761991105369999,0.0032455973035672007,0.06115010437520987,0.0691989198562559,0.04393443841686243,0.03758785761535237,0.006916704674358261,0.03265236881288284,0.0003881047721687608,0.020172362055871508,0.03742326875954456,0.005273830495685648,0.16993176620802591,0.04556681012849448,0.00969861554332617,0.014870768914365676,0.016229073965132172,0.03587879999433257,0.04175075682720609,0.0004067456479544938,0.06603401480857489,0.022481003586666822,0.045826981140662394,0.022806961824035032,0.02565708899899086,0.08460305060488868,0.00466191942110596,0.045394144657283794,0.022198308503470883,0.08239194482945748,0.1400238644246605,0.08102831346765722,0.013243450012184969,0.0496787675533273,0.01355958159930678,0.05253393421062095,0.002342163554099765,0.03812464460346563,0.09719402029494507,0.02449953409082314,0.005418470096279387,0.0034019588395796047,0.02551326508024438,0.040178757599925986,0.12793165511115473,0.003855777602434965,0.03235408554944602,0.08593979569544442,0.06444688783166376,0.023197261500845813,0.04439720666528281,0.012408445909620756,0.055904424932530096,0.034652997674059285,0.009960165285774066,0.031494667436524564,0.0026332057333908056,0.02836256396291182,0.012563117089074928,0.03730397216356134,0.09478182072556353,0.007850506360680819,0.06831810972961695,0.03990911091105792,0.11913991012334163,0.02091325025252038,0.0361227618443652,0.01591027540052339,0.009123983352225784,0.01038345797132897,0.019035411524592878,0.09184978613919413,0.06839577610627243,0.06348658565330544,0.051913944064168785,0.0038322346597148347,0.06054662707009858,0.01472957655905782,0.007199159579096425,0.04362913500347271,0.23961412626413328,0.015398613846693492,0.08082582610297262,0.054840002887582305,0.08306478951895631,0.03028877418024615,0.04563394320692177,0.01997747017987134,0.047954765892465355,0.020287111424078665,0.033357654368842006,0.054153838921304355,0.018755124087308096,0.03905309235200399,0.0384298556055923,0.22733077851554745,0.003194544817796695,0.008770585297316145,0.02026663978426952,0.13506551967082003,0.019684320235261895,0.06423953746024937,0.05313721239662719,0.020239748361749712,0.04620859463857788,0.15863571844641802,0.024121598609831797,0.0812897879291708,0.01983756152203635,0.019389809771536357,0.03832648809573985,0.015566807659242565,0.024181424461607138,0.09646735908954869,0.02290161407113324,0.06338118751885435,0.012523244134775397,0.057624494973264155,0.060382754441550245,0.03674724620985893,0.010694322117151081,0.02026238305896791,0.023250179379752944,0.07737039183112798,0.12932398534779013,0.13721798209669658,0.06508929755437677,0.0219921181798658,0.06741958870026299,0.026390743433334283,0.013887041124018062,0.019262876054449235,0.03880119584380104,0.01655250164607878,0.041688818545898274,0.05010491182663512,0.07706437711565133,0.04845825206643803,0.060898880225293744,0.07314581166092167,8.233086072527742e-06,0.02886142292652202,0.04894654583445417,0.0005206952511593352,0.05297501648893348,0.04475784876847995,0.05107907108891892,0.17455053055351022,0.11478268513827054,0.009510301057081219,0.01865094359715164,2.5597210365409868e-05,0.021966711054576208,0.06984881713625181,0.015921135740568484,0.11568831894150437,0.002117743616337319,0.1784804033627614,0.01669735596929003,0.018814678045502974,0.049990242302511284,0.07153866540628953,0.009923550802601305,0.02036172744917103,0.1429744838657274,0.05941741192834862,0.03606174630516645,0.03740694185088121,0.011335850331066866,0.00837931354219255,0.03207251013148733,0.0007225905338156736,0.03145236734805482,0.07154055292422924,0.024365692312567997,0.08036586879840225,0.0427608113344848,3.55215242350902e-06,0.02246371664202749,0.006825793076601322,0.007434174372958166,0.09229108640622002,0.03498887849213709,0.10837263734698664,0.0006593634581804099,0.01906731217180729],"type":"densitymapbox"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"mapbox":{"domain":{"x":[0.0,1.0],"y":[0.0,1.0]},"center":{"lat":59.922191717839894,"lon":10.74358545217691},"zoom":10.5,"style":"carto-positron"},"coloraxis":{"colorbar":{"title":{"text":"Popularity"}},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"legend":{"tracegroupgap":0},"margin":{"t":60},"width":600,"updatemenus":[{"buttons":[{"args":[null,{"frame":{"duration":500,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":500,"easing":"linear"}}],"label":"&#9654;","method":"animate"},{"args":[[null],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"&#9724;","method":"animate"}],"direction":"left","pad":{"r":10,"t":70},"showactive":false,"type":"buttons","x":0.1,"xanchor":"right","y":0,"yanchor":"top"}],"sliders":[{"active":0,"currentvalue":{"prefix":"Component="},"len":0.9,"pad":{"b":10,"t":60},"steps":[{"args":[["0"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"0","method":"animate"},{"args":[["1"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"1","method":"animate"},{"args":[["2"],{"frame":{"duration":0,"redraw":true},"mode":"immediate","fromcurrent":true,"transition":{"duration":0,"easing":"linear"}}],"label":"2","method":"animate"}],"x":0.1,"xanchor":"left","y":0,"yanchor":"top"}]},                        {"responsive": true}                    ).then(function(){
                            Plotly.addFrames('dd02096f-acab-4152-8d34-ef1e593ffc7d', [{"data":[{"coloraxis":"coloraxis","customdata":[["7 Juni Plassen"],["AHO"],["Adamstuen"],["Aker Brygge"],["Akersgata"],["Alexander Kiellands Plass"],["Anker Hotel"],["Annette Thommessens Plass"],["Arendalsgata"],["Arkaden Nord"],["Arkaden S\u00f8r"],["Arkitekt Rivertz Plass"],["BI Nydalen"],["Badebakken"],["Bak Niels Treschows hus nord"],["Bak Niels Treschows hus s\u00f8r"],["Bankplassen"],["Bentsebrugata"],["Birkelunden"],["Biskop Gunnerus' gate"],["Bislett Stadion"],["Bislettgata"],["Bjerregaards gate"],["Bjerregaardsgate \u00d8st"],["Bj\u00f8lsen Studentby"],["Bj\u00f8lsen m\u00f8lle"],["Bj\u00f8lsendumpa"],["Bj\u00f8rvika"],["Blindern studentparkering"],["Bogstadveien"],["Borgenveien"],["Botanisk Hage s\u00f8r"],["Botanisk Hage vest"],["Botanisk hage s\u00f8r-vest"],["Briskeby"],["Brugata"],["Brynseng T-bane"],["Bygd\u00f8y all\u00e9"],["B\u00f8kkerveien"],["Carl Berners plass nord"],["Carl Berners plass s\u00f8r"],["Chr. Michelsens Gate"],["Colbj\u00f8rnsens gate"],["Colletts gate"],["Colosseum Kino"],["Det Teologiske fakultet"],["Diakonhjemmet"],["Dokkveien"],["Domus Athletica"],["Drammensveien"],["Dronningens gate"],["Dyvekes bru"],["D\u00e6lenenggata"],["Edvard Storms gate"],["Elisenberg"],["Enerhaugen"],["Ensj\u00f8 T-bane"],["Ensj\u00f8veien"],["Fagerheimgata"],["Filipstadveien"],["Finnmarksgata"],["Forskningsveien"],["Fram-g\u00e5rden"],["Fred Olsens gate"],["Fredensborg"],["Friggfeltet"],["Frogner Stadion"],["Frogner Tennisklubb"],["Frogner plass"],["Frognerbadet"],["Frognerstranda"],["Frognerveien"],["Fr\u00f8en T-bane"],["Furulund"],["Fyrstikktorget"],["Fysikkbygningen"],["Galgeberg"],["Gaustad T-bane"],["Georg Morgenstiernes hus"],["Gimle Kino"],["Goethe Institut"],["Grenseveien"],["Griffenfeldts gate"],["Gr\u00f8nlands torg"],["Gr\u00fcnerhagen Nord"],["Gunerius"],["Hallings gate"],["Hall\u00e9nparken"],["Hammersborg Torg"],["Hans Nielsen Hauges plass"],["Hasle"],["Hasle Torg"],["HasleLinje"],["Hausmanns bru"],["Hausmanns gate"],["Hedmarksgata"],["Helga Helgesens plass"],["Henrik Ibsens gate"],["Henrik Wergelands all\u00e9"],["Hesselbergs Gate"],["Hoff terrasse holdeplass"],["Hoffsveien"],["Holbergs Plass"],["Holbergs plass"],["Huitfeldts gate"],["Huk"],["Hydroparken"],["Idioten"],["Ila"],["Jakob kirke"],["Jarlsborgveien"],["Jenny Braatens Plass"],["Jens Bjelkes Gate"],["Jens Bjelkes gate"],["Jernbanetorget"],["Jess Carlsens gate"],["John Colletts plass"],["Jordalgata"],["Kampen park \u00d8st"],["Karenlyst all\u00e9"],["Karenslyst all\u00e9"],["Kirkegata 15"],["Kirkeristen"],["Kirkeveien"],["Kjeld Stubs gate"],["Klingenberggata"],["Kontraskj\u00e6ret"],["Krebs' gate"],["Kv\u00e6rnerbyen"],["Kv\u00e6rnerveien"],["K\u00f8benhavngata busstopp"],["Lakkegata"],["Landstads gate"],["Langkaia"],["Lille Grensen"],["Lille Schous plass"],["Lilleborgbanen"],["Linaaes gate"],["Lindern"],["Lodalen busstopp"],["L\u00f8renporten"],["L\u00f8renveien"],["Mailundveien"],["Majorstua skole"],["Majorstuen"],["Majorstuen T-bane"],["Majorstuveien"],["Mandalls gate"],["Marcus Thranes gate"],["Marienlyst"],["Marienlystparken"],["Meltzers gate"],["Monolittveien"],["Munkedamsveien"],["Munkegata"],["Munkegata trikkestopp"],["Myral\u00f8kka \u00d8st"],["M\u00f8lleparken"],["M\u00f8llergata"],["Nedre Slottsgate"],["Nordre gate"],["Norsk Folkemuseum"],["Nydalen"],["Nylandsveien"],["Olaf Ryes plass"],["Olav Kyrres plass"],["Oscars gate"],["Oslo Handelsgymnasium"],["Oslo Hospital"],["Oslo Plaza"],["OsloMet"],["Over R\u00e5dhusgata"],["Pal\u00e9haven"],["Parkveien"],["Pilestredet"],["Pilestredet 63"],["Pilestredet Studenthus"],["Professor Aschehougs plass"],["Riddervoldplass"],["Ringnes Park"],["Rolf Wickstr\u00f8ms vei"],["Rostockgata"],["Rusel\u00f8kkg\u00e5rden"],["R\u00e5dhusbrygge 4"],["R\u00e5dhusgata"],["Saga Kino"],["Sagene bussholdeplass"],["Salt"],["Schives gate"],["Schous plass"],["Schous plass trikkestopp"],["Sentrum Scene"],["Sinsen T-bane"],["Sinsenveien"],["Sirkustomta"],["Sj\u00f8lyst"],["Sj\u00f8siden ved fontenen"],["Sj\u00f8siden ved trappen"],["Skarpsnoparken"],["Skillebekk"],["Skippergata"],["Skovveien"],["Skr\u00e5ninga"],["Sk\u00f8yen"],["Sk\u00f8yen Stasjon"],["Slemdalsveien"],["Slottsparken \u00d8st"],["Sofienberggata"],["Sofienbergparken nord"],["Sofienbergparken nordvest"],["Sofienbergparken s\u00f8r"],["Sognsveien"],["Sommerfrydhagen"],["Sotahj\u00f8rnet"],["Spikersuppa Vest"],["Spikersuppa \u00d8st"],["St. Hanshaugen"],["St. Hanshaugen park nord"],["St. Hanshaugen park s\u00f8r"],["St. Hanshaugen park vest"],["St. Olavs gate"],["Stavangergata"],["Stensgata"],["Stensparken"],["Stjerneplassen"],["Stockfleths gate"],["Storo Storsenter"],["Stortingstunellen"],["Studenterlunden"],["Studentparlamentet"],["Suhms gate"],["Sukkerbiten"],["S\u00f8ndre gate"],["S\u00f8rvest for Slottsparken"],["Tannlegeh\u00f8yskolen"],["The Hub"],["Thereses gate"],["Thomas Heftyes plass"],["Thune"],["Tjuvholmen"],["Tordenskiolds gate"],["Torggata"],["Torshovdalen \u00f8st"],["Torshovparken vest"],["Trelastgata"],["Trondheimsveien"],["T\u00e5sen Senter"],["T\u00e5senl\u00f8kka"],["T\u00f8yen skole"],["T\u00f8yenbekken"],["T\u00f8yenparken"],["Uelands gate"],["Ullev\u00e5l sykehus"],["Ullev\u00e5lsall\u00e9en"],["Ullev\u00e5lsveien"],["Ulven Torg"],["Uranienborgparken"],["Uranienborgveien"],["Valkyrieplassen"],["Vaterlandsparken"],["Vestkanttorvet"],["Via Vika"],["Vippetangen vest"],["Vippetangen \u00f8st"],["Volvat"],["Vulkan"],["V\u00e5lerenga"],["V\u00e5r Frelsers gravlund s\u00f8r"],["\u00d8kern Portal"],["\u00d8kernveien"]],"hovertemplate":"Component=0<br>Popularity=%{z}<br>lat=%{lat}<br>lon=%{lon}<br>End station name=%{customdata[0]}<extra></extra>","lat":[59.9150596,59.925265,59.932792,59.91118372188379,59.9141971,59.92806670615684,59.9172794,59.9107393,59.9378,59.9121472,59.9119691,59.934936,59.949239,59.94558091179507,59.94278024854256,59.94247260310697,59.908454,59.93923,59.9256113,59.9123341,59.925471317049954,59.92377440938114,59.925488,59.92716771401357,59.943777539367225,59.9392403070359,59.94032925181832,59.909006,59.940873733543725,59.924732,59.94274210647367,59.91541769802439,59.92012811804052,59.91783548782385,59.920218,59.91366109486603,59.90918420865812,59.919001,59.9273747,59.926929,59.92507,59.927292,59.91731888534716,59.93068679863987,59.92984300295666,59.935342,59.9363277,59.910974,59.946219381760216,59.9204038,59.911392299457006,59.905323,59.9287502718149,59.919111,59.919524,59.91320242563816,59.9131891,59.91662195885618,59.92760586837719,59.9102277,59.922839,59.94545063370256,59.915424,59.9110506,59.920995,59.9327726,59.92753764682686,59.9261831,59.9225392,59.92808,59.9103558,59.9170851,59.9347352,59.9198098,59.91381587564694,59.937957367051965,59.90707579234818,59.945955,59.939025551395765,59.91728078292675,59.9131792,59.92464487862039,59.9337026,59.91252,59.9224256,59.91459878869395,59.922777,59.9315302,59.91652053839767,59.939244,59.924342,59.923240042155456,59.92763407981436,59.9146509,59.915451,59.91178403655783,59.9121109,59.915088,59.9268942,59.92774803110845,59.9272941,59.923898,59.9193095,59.9193095,59.9126844,59.898126,59.914145,59.93102013218461,59.931828,59.917866,59.9304645,59.928349,59.919179,59.919179,59.911901,59.9186359,59.940398,59.908227,59.915182,59.92033,59.92033,59.91015615055511,59.91300035973293,59.93347989334691,59.912711,59.913150534075015,59.910242,59.935995,59.904473,59.90591083488326,59.9294565845173,59.9172088,59.929005,59.9080552,59.9138973,59.920259,59.93363159074286,59.91382393242077,59.9358883,59.9034528,59.92871096669328,59.93087712510462,59.9309181,59.9294351,59.929045,59.92985724219502,59.926697,59.9123469,59.93277225626508,59.932432498521095,59.93215,59.9180141,59.935947,59.9135227,59.908255,59.908255,59.937205,59.9283928,59.91537003977052,59.913245,59.92114988507087,59.907674,59.952868,59.9156603,59.922425,59.9193337,59.9224222,59.914306,59.90321254732584,59.91218291295141,59.919927,59.9101207,59.910331,59.921768,59.9262242,59.9238826,59.9205528,59.9147672,59.9191421,59.92843404417577,59.9534114,59.90691970255054,59.91357497092093,59.9108469,59.910924,59.91424026794647,59.937743,59.90692216719828,59.92095635370271,59.920335,59.9207284,59.91546786564256,59.938863086921295,59.929542,59.919252,59.921673,59.91018085263352,59.91015446696496,59.914871,59.912793405455375,59.9112227,59.9163309,59.9139786,59.92226850808104,59.922723981014094,59.930596,59.917485,59.9212063,59.923229,59.9243639,59.922337,59.94743324225673,59.911453,59.9099822,59.91372007130073,59.91336,59.923703,59.92979845370007,59.924821,59.9268706,59.9179676629428,59.94114763297182,59.92958561753996,59.92714,59.91323316606503,59.9339754,59.94671044754387,59.91065301806209,59.914586,59.920852,59.929419,59.90512438070349,59.918632,59.915262,59.932383,59.91252237023375,59.9261462,59.91857814333677,59.92208,59.909467,59.91177629920927,59.91598309274519,59.93285662158759,59.93507,59.90800465532893,59.9230577,59.952659,59.9433939,59.914943,59.9115945,59.915667,59.929545,59.9360307,59.937913,59.9246852,59.92503517848644,59.922485,59.9200421,59.9281319,59.91351552854147,59.9244031,59.91271286014364,59.903989,59.903989,59.9330870371029,59.92251,59.908576,59.919463,59.930903961728745,59.9167376],"lon":[10.7312715,10.750462,10.734457,10.730034556850455,10.7428828,10.751202636819611,10.7581553,10.7609998,10.7541,10.7480527,10.7478583,10.749466,10.768576,10.760323881579982,10.722993731144015,10.723715245368956,10.741869,10.75917,10.760926,10.752292,10.73121932213806,10.734712874574,10.746058,10.749754560118864,10.760121127577955,10.768771317790996,10.766136667493829,10.75618,10.720778851520524,10.724628,10.70383303125402,10.76933022142641,10.768875408563598,10.766373769557958,10.717978,10.75729364846211,10.81431433498766,10.692321,10.7960147,10.776971,10.775996,10.773185,10.716909039918278,10.746273349149249,10.711284727205708,10.726472,10.7054333,10.7277001,10.724626314653564,10.691147,10.747281829592453,10.7689579,10.767546377298158,10.736179,10.70884,10.767579386407874,10.7897605,10.783309055819714,10.76598469881135,10.7208788,10.775658,10.713867957672134,10.714577,10.7493737,10.750358,10.7114661,10.71026280326126,10.7098327,10.7045406,10.708767,10.7051061,10.7128796,10.7096985,10.651118,10.798093360118871,10.719488529430388,10.779164402446728,10.710392,10.723002619643406,10.708375798767436,10.7607798,10.781726510450724,10.7519299,10.76224,10.7554274,10.753398500006654,10.738655,10.762169,10.749202233135232,10.774319,10.79285,10.792831438028704,10.799249379762283,10.7598719,10.758328,10.783884345957915,10.7661939,10.7222803,10.7207894,10.761265771390583,10.6755714,10.6760339,10.7343051,10.7343051,10.7229003,10.675096,10.715505,10.736036647971048,10.748745,10.754898,10.6757833,10.77837,10.764162,10.764162,10.749929,10.7523939,10.730036,10.781088,10.782129,10.683814,10.683814,10.743456971511703,10.746760585982289,10.726294394131088,10.735595,10.732281291700131,10.73857,10.765413,10.786167,10.778592132296495,10.769121495700826,10.7622135,10.7496755,10.7479977,10.7423101,10.760629,10.769118139881124,10.745704482209018,10.7350062,10.777958,10.79991480182082,10.791823716034967,10.7728203,10.7136816,10.716926,10.71456623677068,10.716195,10.7638147,10.758594919923468,10.721762294477472,10.723478,10.7184345,10.681138,10.7301061,10.7678,10.7678,10.7605813,10.7559693,10.748493387102522,10.743669,10.754714015938562,10.686843,10.766483,10.7622812,10.758182,10.6968953,10.7272388,10.720202,10.7673442932541,10.7544337247013,10.735428,10.7407129,10.75011,10.730476,10.7296246,10.7313627,10.7342854,10.740971,10.7196414,10.75943014633117,10.7577241,10.760311802881915,10.726229742333288,10.7303766,10.736215,10.732771354719745,10.751648,10.746530272588243,10.714055629614734,10.760804,10.7594857,10.751140873016311,10.780603250331886,10.781053,10.774712,10.67666,10.751698750995615,10.751980909227372,10.701037,10.710103028570302,10.7481976,10.716349,10.7474667,10.679579749668129,10.67862514536896,10.714778,10.732128,10.7699892,10.766171,10.7615858,10.7617503,10.732569703704817,10.776072,10.7914482,10.735886645853412,10.737663,10.740542,10.743540765932096,10.739909,10.7384634,10.738628884264756,10.750775120272449,10.732839000000013,10.730981,10.749958763650312,10.7521029,10.773805285879131,10.737365277561024,10.735453,10.733357,10.726195,10.753763553726516,10.757867,10.7253157,10.741475,10.750910185807754,10.7310355,10.703899530059402,10.68588,10.722509,10.735113005880237,10.75155119076095,10.777633472422016,10.76915,10.7625700380287,10.7717192,10.751165,10.7482848,10.773977,10.7617736,10.7775665,10.7489862,10.7364516,10.73048,10.7395045,10.81202182917832,10.720896,10.726634,10.71842,10.757334670552268,10.7130691,10.727170827087008,10.740627,10.741077,10.703967938028702,10.75101,10.786856,10.743829,10.80193969590286,10.779916],"name":"","opacity":0.5,"subplot":"mapbox","z":[0.05136087942475344,0.11076715197804435,0.03156354715917445,0.027884333856937716,0.0364190123871929,0.23755331938115462,0.044160293445379764,0.04893238081632208,0.04924507536573959,0.019868804807851293,0.0047983804135663015,0.025478529795682346,0.026091681909291148,0.02399031457955772,0.005692422631832595,0.0013688009649198624,0.0,0.06394067274906931,0.11520609682980973,0.045960747648800954,0.12625788193503673,0.11083635132884984,0.1390273273507393,0.07645999880661992,0.05689773707070121,0.02239795205620344,0.033177779711299774,0.059810518338128976,0.0035200378910847444,0.1252765641489745,0.007690562940302101,0.12524071510880652,0.03569721018109535,0.05329558284340957,0.047663560330943405,0.03957284528089732,0.008901895525655972,0.019846551548176525,0.013212534696399676,0.02163292740867704,0.09575227066342051,0.07176853376223395,0.04396830769619873,0.022180488047521013,0.02121605174573073,0.011345841055472016,0.0013396574296236535,0.0530047633831613,0.005669895456977972,0.023213059960409427,0.016599950797380164,0.04017562208648971,0.06526925430284605,0.03974786704324803,0.07219609359343261,0.03956960258516728,0.032625796996544464,0.01415750042980885,0.09222248637930262,0.05361762243903676,0.040007865229968916,0.0023520790960765226,0.04616969608541238,0.022130265313754414,0.08251447551448964,0.00880524148456881,0.03715355675768777,0.012770788075476939,0.08010225700903618,0.014356397306936568,0.06509305178686568,0.05445299074597458,0.006957269407135026,0.01042217205768372,0.013523194940393155,0.0008389952307192239,0.07030938597385537,0.0015407967149170243,0.0,0.06319341795464153,0.007421473455967115,0.010017072806559545,0.03151205355754007,0.07214498463266199,0.07761991105369999,0.0032455973035672007,0.06115010437520987,0.0691989198562559,0.04393443841686243,0.03758785761535237,0.006916704674358261,0.03265236881288284,0.0003881047721687608,0.020172362055871508,0.03742326875954456,0.005273830495685648,0.16993176620802591,0.04556681012849448,0.00969861554332617,0.014870768914365676,0.016229073965132172,0.03587879999433257,0.04175075682720609,0.0004067456479544938,0.06603401480857489,0.022481003586666822,0.045826981140662394,0.022806961824035032,0.02565708899899086,0.08460305060488868,0.00466191942110596,0.045394144657283794,0.022198308503470883,0.08239194482945748,0.1400238644246605,0.08102831346765722,0.013243450012184969,0.0496787675533273,0.01355958159930678,0.05253393421062095,0.002342163554099765,0.03812464460346563,0.09719402029494507,0.02449953409082314,0.005418470096279387,0.0034019588395796047,0.02551326508024438,0.040178757599925986,0.12793165511115473,0.003855777602434965,0.03235408554944602,0.08593979569544442,0.06444688783166376,0.023197261500845813,0.04439720666528281,0.012408445909620756,0.055904424932530096,0.034652997674059285,0.009960165285774066,0.031494667436524564,0.0026332057333908056,0.02836256396291182,0.012563117089074928,0.03730397216356134,0.09478182072556353,0.007850506360680819,0.06831810972961695,0.03990911091105792,0.11913991012334163,0.02091325025252038,0.0361227618443652,0.01591027540052339,0.009123983352225784,0.01038345797132897,0.019035411524592878,0.09184978613919413,0.06839577610627243,0.06348658565330544,0.051913944064168785,0.0038322346597148347,0.06054662707009858,0.01472957655905782,0.007199159579096425,0.04362913500347271,0.23961412626413328,0.015398613846693492,0.08082582610297262,0.054840002887582305,0.08306478951895631,0.03028877418024615,0.04563394320692177,0.01997747017987134,0.047954765892465355,0.020287111424078665,0.033357654368842006,0.054153838921304355,0.018755124087308096,0.03905309235200399,0.0384298556055923,0.22733077851554745,0.003194544817796695,0.008770585297316145,0.02026663978426952,0.13506551967082003,0.019684320235261895,0.06423953746024937,0.05313721239662719,0.020239748361749712,0.04620859463857788,0.15863571844641802,0.024121598609831797,0.0812897879291708,0.01983756152203635,0.019389809771536357,0.03832648809573985,0.015566807659242565,0.024181424461607138,0.09646735908954869,0.02290161407113324,0.06338118751885435,0.012523244134775397,0.057624494973264155,0.060382754441550245,0.03674724620985893,0.010694322117151081,0.02026238305896791,0.023250179379752944,0.07737039183112798,0.12932398534779013,0.13721798209669658,0.06508929755437677,0.0219921181798658,0.06741958870026299,0.026390743433334283,0.013887041124018062,0.019262876054449235,0.03880119584380104,0.01655250164607878,0.041688818545898274,0.05010491182663512,0.07706437711565133,0.04845825206643803,0.060898880225293744,0.07314581166092167,8.233086072527742e-06,0.02886142292652202,0.04894654583445417,0.0005206952511593352,0.05297501648893348,0.04475784876847995,0.05107907108891892,0.17455053055351022,0.11478268513827054,0.009510301057081219,0.01865094359715164,2.5597210365409868e-05,0.021966711054576208,0.06984881713625181,0.015921135740568484,0.11568831894150437,0.002117743616337319,0.1784804033627614,0.01669735596929003,0.018814678045502974,0.049990242302511284,0.07153866540628953,0.009923550802601305,0.02036172744917103,0.1429744838657274,0.05941741192834862,0.03606174630516645,0.03740694185088121,0.011335850331066866,0.00837931354219255,0.03207251013148733,0.0007225905338156736,0.03145236734805482,0.07154055292422924,0.024365692312567997,0.08036586879840225,0.0427608113344848,3.55215242350902e-06,0.02246371664202749,0.006825793076601322,0.007434174372958166,0.09229108640622002,0.03498887849213709,0.10837263734698664,0.0006593634581804099,0.01906731217180729],"type":"densitymapbox"}],"name":"0"},{"data":[{"coloraxis":"coloraxis","customdata":[["7 Juni Plassen"],["AHO"],["Adamstuen"],["Aker Brygge"],["Akersgata"],["Alexander Kiellands Plass"],["Anker Hotel"],["Annette Thommessens Plass"],["Arendalsgata"],["Arkaden Nord"],["Arkaden S\u00f8r"],["Arkitekt Rivertz Plass"],["BI Nydalen"],["Badebakken"],["Bak Niels Treschows hus nord"],["Bak Niels Treschows hus s\u00f8r"],["Bankplassen"],["Bentsebrugata"],["Birkelunden"],["Biskop Gunnerus' gate"],["Bislett Stadion"],["Bislettgata"],["Bjerregaards gate"],["Bjerregaardsgate \u00d8st"],["Bj\u00f8lsen Studentby"],["Bj\u00f8lsen m\u00f8lle"],["Bj\u00f8lsendumpa"],["Bj\u00f8rvika"],["Blindern studentparkering"],["Bogstadveien"],["Borgenveien"],["Botanisk Hage s\u00f8r"],["Botanisk Hage vest"],["Botanisk hage s\u00f8r-vest"],["Briskeby"],["Brugata"],["Brynseng T-bane"],["Bygd\u00f8y all\u00e9"],["B\u00f8kkerveien"],["Carl Berners plass nord"],["Carl Berners plass s\u00f8r"],["Chr. Michelsens Gate"],["Colbj\u00f8rnsens gate"],["Colletts gate"],["Colosseum Kino"],["Det Teologiske fakultet"],["Diakonhjemmet"],["Dokkveien"],["Domus Athletica"],["Drammensveien"],["Dronningens gate"],["Dyvekes bru"],["D\u00e6lenenggata"],["Edvard Storms gate"],["Elisenberg"],["Enerhaugen"],["Ensj\u00f8 T-bane"],["Ensj\u00f8veien"],["Fagerheimgata"],["Filipstadveien"],["Finnmarksgata"],["Forskningsveien"],["Fram-g\u00e5rden"],["Fred Olsens gate"],["Fredensborg"],["Friggfeltet"],["Frogner Stadion"],["Frogner Tennisklubb"],["Frogner plass"],["Frognerbadet"],["Frognerstranda"],["Frognerveien"],["Fr\u00f8en T-bane"],["Furulund"],["Fyrstikktorget"],["Fysikkbygningen"],["Galgeberg"],["Gaustad T-bane"],["Georg Morgenstiernes hus"],["Gimle Kino"],["Goethe Institut"],["Grenseveien"],["Griffenfeldts gate"],["Gr\u00f8nlands torg"],["Gr\u00fcnerhagen Nord"],["Gunerius"],["Hallings gate"],["Hall\u00e9nparken"],["Hammersborg Torg"],["Hans Nielsen Hauges plass"],["Hasle"],["Hasle Torg"],["HasleLinje"],["Hausmanns bru"],["Hausmanns gate"],["Hedmarksgata"],["Helga Helgesens plass"],["Henrik Ibsens gate"],["Henrik Wergelands all\u00e9"],["Hesselbergs Gate"],["Hoff terrasse holdeplass"],["Hoffsveien"],["Holbergs Plass"],["Holbergs plass"],["Huitfeldts gate"],["Huk"],["Hydroparken"],["Idioten"],["Ila"],["Jakob kirke"],["Jarlsborgveien"],["Jenny Braatens Plass"],["Jens Bjelkes Gate"],["Jens Bjelkes gate"],["Jernbanetorget"],["Jess Carlsens gate"],["John Colletts plass"],["Jordalgata"],["Kampen park \u00d8st"],["Karenlyst all\u00e9"],["Karenslyst all\u00e9"],["Kirkegata 15"],["Kirkeristen"],["Kirkeveien"],["Kjeld Stubs gate"],["Klingenberggata"],["Kontraskj\u00e6ret"],["Krebs' gate"],["Kv\u00e6rnerbyen"],["Kv\u00e6rnerveien"],["K\u00f8benhavngata busstopp"],["Lakkegata"],["Landstads gate"],["Langkaia"],["Lille Grensen"],["Lille Schous plass"],["Lilleborgbanen"],["Linaaes gate"],["Lindern"],["Lodalen busstopp"],["L\u00f8renporten"],["L\u00f8renveien"],["Mailundveien"],["Majorstua skole"],["Majorstuen"],["Majorstuen T-bane"],["Majorstuveien"],["Mandalls gate"],["Marcus Thranes gate"],["Marienlyst"],["Marienlystparken"],["Meltzers gate"],["Monolittveien"],["Munkedamsveien"],["Munkegata"],["Munkegata trikkestopp"],["Myral\u00f8kka \u00d8st"],["M\u00f8lleparken"],["M\u00f8llergata"],["Nedre Slottsgate"],["Nordre gate"],["Norsk Folkemuseum"],["Nydalen"],["Nylandsveien"],["Olaf Ryes plass"],["Olav Kyrres plass"],["Oscars gate"],["Oslo Handelsgymnasium"],["Oslo Hospital"],["Oslo Plaza"],["OsloMet"],["Over R\u00e5dhusgata"],["Pal\u00e9haven"],["Parkveien"],["Pilestredet"],["Pilestredet 63"],["Pilestredet Studenthus"],["Professor Aschehougs plass"],["Riddervoldplass"],["Ringnes Park"],["Rolf Wickstr\u00f8ms vei"],["Rostockgata"],["Rusel\u00f8kkg\u00e5rden"],["R\u00e5dhusbrygge 4"],["R\u00e5dhusgata"],["Saga Kino"],["Sagene bussholdeplass"],["Salt"],["Schives gate"],["Schous plass"],["Schous plass trikkestopp"],["Sentrum Scene"],["Sinsen T-bane"],["Sinsenveien"],["Sirkustomta"],["Sj\u00f8lyst"],["Sj\u00f8siden ved fontenen"],["Sj\u00f8siden ved trappen"],["Skarpsnoparken"],["Skillebekk"],["Skippergata"],["Skovveien"],["Skr\u00e5ninga"],["Sk\u00f8yen"],["Sk\u00f8yen Stasjon"],["Slemdalsveien"],["Slottsparken \u00d8st"],["Sofienberggata"],["Sofienbergparken nord"],["Sofienbergparken nordvest"],["Sofienbergparken s\u00f8r"],["Sognsveien"],["Sommerfrydhagen"],["Sotahj\u00f8rnet"],["Spikersuppa Vest"],["Spikersuppa \u00d8st"],["St. Hanshaugen"],["St. Hanshaugen park nord"],["St. Hanshaugen park s\u00f8r"],["St. Hanshaugen park vest"],["St. Olavs gate"],["Stavangergata"],["Stensgata"],["Stensparken"],["Stjerneplassen"],["Stockfleths gate"],["Storo Storsenter"],["Stortingstunellen"],["Studenterlunden"],["Studentparlamentet"],["Suhms gate"],["Sukkerbiten"],["S\u00f8ndre gate"],["S\u00f8rvest for Slottsparken"],["Tannlegeh\u00f8yskolen"],["The Hub"],["Thereses gate"],["Thomas Heftyes plass"],["Thune"],["Tjuvholmen"],["Tordenskiolds gate"],["Torggata"],["Torshovdalen \u00f8st"],["Torshovparken vest"],["Trelastgata"],["Trondheimsveien"],["T\u00e5sen Senter"],["T\u00e5senl\u00f8kka"],["T\u00f8yen skole"],["T\u00f8yenbekken"],["T\u00f8yenparken"],["Uelands gate"],["Ullev\u00e5l sykehus"],["Ullev\u00e5lsall\u00e9en"],["Ullev\u00e5lsveien"],["Ulven Torg"],["Uranienborgparken"],["Uranienborgveien"],["Valkyrieplassen"],["Vaterlandsparken"],["Vestkanttorvet"],["Via Vika"],["Vippetangen vest"],["Vippetangen \u00f8st"],["Volvat"],["Vulkan"],["V\u00e5lerenga"],["V\u00e5r Frelsers gravlund s\u00f8r"],["\u00d8kern Portal"],["\u00d8kernveien"]],"hovertemplate":"Component=1<br>Popularity=%{z}<br>lat=%{lat}<br>lon=%{lon}<br>End station name=%{customdata[0]}<extra></extra>","lat":[59.9150596,59.925265,59.932792,59.91118372188379,59.9141971,59.92806670615684,59.9172794,59.9107393,59.9378,59.9121472,59.9119691,59.934936,59.949239,59.94558091179507,59.94278024854256,59.94247260310697,59.908454,59.93923,59.9256113,59.9123341,59.925471317049954,59.92377440938114,59.925488,59.92716771401357,59.943777539367225,59.9392403070359,59.94032925181832,59.909006,59.940873733543725,59.924732,59.94274210647367,59.91541769802439,59.92012811804052,59.91783548782385,59.920218,59.91366109486603,59.90918420865812,59.919001,59.9273747,59.926929,59.92507,59.927292,59.91731888534716,59.93068679863987,59.92984300295666,59.935342,59.9363277,59.910974,59.946219381760216,59.9204038,59.911392299457006,59.905323,59.9287502718149,59.919111,59.919524,59.91320242563816,59.9131891,59.91662195885618,59.92760586837719,59.9102277,59.922839,59.94545063370256,59.915424,59.9110506,59.920995,59.9327726,59.92753764682686,59.9261831,59.9225392,59.92808,59.9103558,59.9170851,59.9347352,59.9198098,59.91381587564694,59.937957367051965,59.90707579234818,59.945955,59.939025551395765,59.91728078292675,59.9131792,59.92464487862039,59.9337026,59.91252,59.9224256,59.91459878869395,59.922777,59.9315302,59.91652053839767,59.939244,59.924342,59.923240042155456,59.92763407981436,59.9146509,59.915451,59.91178403655783,59.9121109,59.915088,59.9268942,59.92774803110845,59.9272941,59.923898,59.9193095,59.9193095,59.9126844,59.898126,59.914145,59.93102013218461,59.931828,59.917866,59.9304645,59.928349,59.919179,59.919179,59.911901,59.9186359,59.940398,59.908227,59.915182,59.92033,59.92033,59.91015615055511,59.91300035973293,59.93347989334691,59.912711,59.913150534075015,59.910242,59.935995,59.904473,59.90591083488326,59.9294565845173,59.9172088,59.929005,59.9080552,59.9138973,59.920259,59.93363159074286,59.91382393242077,59.9358883,59.9034528,59.92871096669328,59.93087712510462,59.9309181,59.9294351,59.929045,59.92985724219502,59.926697,59.9123469,59.93277225626508,59.932432498521095,59.93215,59.9180141,59.935947,59.9135227,59.908255,59.908255,59.937205,59.9283928,59.91537003977052,59.913245,59.92114988507087,59.907674,59.952868,59.9156603,59.922425,59.9193337,59.9224222,59.914306,59.90321254732584,59.91218291295141,59.919927,59.9101207,59.910331,59.921768,59.9262242,59.9238826,59.9205528,59.9147672,59.9191421,59.92843404417577,59.9534114,59.90691970255054,59.91357497092093,59.9108469,59.910924,59.91424026794647,59.937743,59.90692216719828,59.92095635370271,59.920335,59.9207284,59.91546786564256,59.938863086921295,59.929542,59.919252,59.921673,59.91018085263352,59.91015446696496,59.914871,59.912793405455375,59.9112227,59.9163309,59.9139786,59.92226850808104,59.922723981014094,59.930596,59.917485,59.9212063,59.923229,59.9243639,59.922337,59.94743324225673,59.911453,59.9099822,59.91372007130073,59.91336,59.923703,59.92979845370007,59.924821,59.9268706,59.9179676629428,59.94114763297182,59.92958561753996,59.92714,59.91323316606503,59.9339754,59.94671044754387,59.91065301806209,59.914586,59.920852,59.929419,59.90512438070349,59.918632,59.915262,59.932383,59.91252237023375,59.9261462,59.91857814333677,59.92208,59.909467,59.91177629920927,59.91598309274519,59.93285662158759,59.93507,59.90800465532893,59.9230577,59.952659,59.9433939,59.914943,59.9115945,59.915667,59.929545,59.9360307,59.937913,59.9246852,59.92503517848644,59.922485,59.9200421,59.9281319,59.91351552854147,59.9244031,59.91271286014364,59.903989,59.903989,59.9330870371029,59.92251,59.908576,59.919463,59.930903961728745,59.9167376],"lon":[10.7312715,10.750462,10.734457,10.730034556850455,10.7428828,10.751202636819611,10.7581553,10.7609998,10.7541,10.7480527,10.7478583,10.749466,10.768576,10.760323881579982,10.722993731144015,10.723715245368956,10.741869,10.75917,10.760926,10.752292,10.73121932213806,10.734712874574,10.746058,10.749754560118864,10.760121127577955,10.768771317790996,10.766136667493829,10.75618,10.720778851520524,10.724628,10.70383303125402,10.76933022142641,10.768875408563598,10.766373769557958,10.717978,10.75729364846211,10.81431433498766,10.692321,10.7960147,10.776971,10.775996,10.773185,10.716909039918278,10.746273349149249,10.711284727205708,10.726472,10.7054333,10.7277001,10.724626314653564,10.691147,10.747281829592453,10.7689579,10.767546377298158,10.736179,10.70884,10.767579386407874,10.7897605,10.783309055819714,10.76598469881135,10.7208788,10.775658,10.713867957672134,10.714577,10.7493737,10.750358,10.7114661,10.71026280326126,10.7098327,10.7045406,10.708767,10.7051061,10.7128796,10.7096985,10.651118,10.798093360118871,10.719488529430388,10.779164402446728,10.710392,10.723002619643406,10.708375798767436,10.7607798,10.781726510450724,10.7519299,10.76224,10.7554274,10.753398500006654,10.738655,10.762169,10.749202233135232,10.774319,10.79285,10.792831438028704,10.799249379762283,10.7598719,10.758328,10.783884345957915,10.7661939,10.7222803,10.7207894,10.761265771390583,10.6755714,10.6760339,10.7343051,10.7343051,10.7229003,10.675096,10.715505,10.736036647971048,10.748745,10.754898,10.6757833,10.77837,10.764162,10.764162,10.749929,10.7523939,10.730036,10.781088,10.782129,10.683814,10.683814,10.743456971511703,10.746760585982289,10.726294394131088,10.735595,10.732281291700131,10.73857,10.765413,10.786167,10.778592132296495,10.769121495700826,10.7622135,10.7496755,10.7479977,10.7423101,10.760629,10.769118139881124,10.745704482209018,10.7350062,10.777958,10.79991480182082,10.791823716034967,10.7728203,10.7136816,10.716926,10.71456623677068,10.716195,10.7638147,10.758594919923468,10.721762294477472,10.723478,10.7184345,10.681138,10.7301061,10.7678,10.7678,10.7605813,10.7559693,10.748493387102522,10.743669,10.754714015938562,10.686843,10.766483,10.7622812,10.758182,10.6968953,10.7272388,10.720202,10.7673442932541,10.7544337247013,10.735428,10.7407129,10.75011,10.730476,10.7296246,10.7313627,10.7342854,10.740971,10.7196414,10.75943014633117,10.7577241,10.760311802881915,10.726229742333288,10.7303766,10.736215,10.732771354719745,10.751648,10.746530272588243,10.714055629614734,10.760804,10.7594857,10.751140873016311,10.780603250331886,10.781053,10.774712,10.67666,10.751698750995615,10.751980909227372,10.701037,10.710103028570302,10.7481976,10.716349,10.7474667,10.679579749668129,10.67862514536896,10.714778,10.732128,10.7699892,10.766171,10.7615858,10.7617503,10.732569703704817,10.776072,10.7914482,10.735886645853412,10.737663,10.740542,10.743540765932096,10.739909,10.7384634,10.738628884264756,10.750775120272449,10.732839000000013,10.730981,10.749958763650312,10.7521029,10.773805285879131,10.737365277561024,10.735453,10.733357,10.726195,10.753763553726516,10.757867,10.7253157,10.741475,10.750910185807754,10.7310355,10.703899530059402,10.68588,10.722509,10.735113005880237,10.75155119076095,10.777633472422016,10.76915,10.7625700380287,10.7717192,10.751165,10.7482848,10.773977,10.7617736,10.7775665,10.7489862,10.7364516,10.73048,10.7395045,10.81202182917832,10.720896,10.726634,10.71842,10.757334670552268,10.7130691,10.727170827087008,10.740627,10.741077,10.703967938028702,10.75101,10.786856,10.743829,10.80193969590286,10.779916],"name":"","opacity":0.5,"subplot":"mapbox","z":[0.09906680720920635,0.0642308338638575,0.011050203720834432,0.11798808676377993,0.2414874036346313,0.043608226113212085,0.026478111326174704,0.034932057710651256,0.004645649655087893,0.10086922389403753,0.0946814389609428,0.0162324137866754,0.038607227775758514,0.01122842015801193,0.02466332441351513,0.01774886200788293,0.37906032029987197,0.00726207744048148,0.016658350729685183,0.025004753304934926,0.044478772353653634,0.04076017772867698,0.009260074300176514,0.008026282956300567,0.005305699048717716,0.0020166687537843124,0.003345501813507233,0.22204242566685503,0.022644562107601875,0.029057418524943996,0.006443203474027884,0.027321588818500355,0.006459508693546948,0.008927457037026586,0.012638888508241443,0.04440117918189701,0.010090054038361766,0.014549206978630274,0.007157316153298972,0.006307220106321664,0.013987293119573481,0.013897784865049456,0.013845782763777214,0.0025682458391603972,0.05526697600834818,0.019238003591595512,0.0213417810478919,0.06639152436551456,0.002486970616342082,0.03152782494431481,0.024587490943240732,0.006491497939666506,0.009528469983118864,0.07743903855153242,0.025093272633944896,0.00867272515072857,0.01734693352137288,0.003396854270175108,0.011495494308415323,0.12159756759450205,0.003250933332531548,0.01849456461129032,0.061351803356967924,0.08310339287385508,0.040808853932424845,0.017729073407980855,0.015571968595272098,0.0021871943066981573,0.014988812391417661,0.01832086196999885,0.007521205824118456,0.008156672865756482,0.008007731517699143,0.0033604895274222343,0.025499292761126925,0.028913135221412423,0.013663552257658074,0.0022234119402340245,0.03408160869414912,0.018163351927318203,0.0023676247876900287,0.001284542805547019,0.007760595241688913,0.03568528991464741,0.012878640596224821,0.0054459360136216205,0.012695321221965612,0.010429815263199747,0.05512799851402202,0.0031989417129457535,0.005906415959771946,0.007103902737116375,0.013537957563651566,0.05673752144327262,0.04976884347507693,0.0012778019735446063,0.10551422562319462,0.08766382272289346,0.004052221693969964,0.0014360921128041939,0.014696341387821986,0.048686579536400515,0.04858631018551298,0.001489001375736768,0.06343052489014545,0.0,0.015207818473313301,0.0050920590030462,0.006952357006698049,0.05723717512425256,0.0024463422335791445,0.00833376704267483,0.012163388654507433,0.015579430297073317,0.05531932502419349,0.0867754208698807,0.0051086894707505544,0.008909291782050268,0.0007252268313113466,0.11431013713019124,0.015267358032943632,0.055332122246134215,0.15083483031885345,0.0031536672603864877,0.037337076103178164,0.021903906061516612,0.06352004393819018,0.008082511419146527,0.019648707766909277,0.002813911769837977,0.007822195635870421,0.06620725227837267,0.00901415381219299,0.042154248318653546,0.07717815226977744,0.008338726495224309,0.0036298198449752767,0.08606751229447844,0.016639574195472576,0.0017372874043825727,0.0030118923299809544,0.0028745451265162667,0.002077326661442243,0.05664239143435181,0.05235564944702703,0.007564196679588272,0.004379424050869991,0.021750394573223284,0.03679642827567531,0.01308213553426733,0.012554874905832117,0.006161408304425574,0.009956418106719041,0.0563966102254993,0.009681633778123738,0.027483819507654314,0.008409219413007997,0.03275854216173638,0.08710463742113995,0.012323283341574464,0.03059160166532468,0.01212969156856602,0.0020899946666476715,0.023438707164513347,0.024699701990674623,0.015116807418110681,0.040733283154147946,0.053728652079294344,0.021214516958228964,0.03642076479274692,0.050813399791133355,0.049703177523248945,0.12196568945169603,0.010791708350347618,0.017711584279373426,0.018431608728108638,0.027603770685809017,0.0530603160828396,0.014582095065749697,0.05491165327514437,0.001160650731137307,0.014106693072519818,0.09210489778335162,0.2479140778296938,0.08756546126663453,0.15464766119126594,0.010176136327867898,0.03351596299290008,0.012463787572336911,0.06106660644934736,0.0073890640061403945,0.0977226263667307,0.0053089371455526495,0.004796474325738717,0.016853571860693268,0.03391317867298552,0.1374930234463833,0.18459833958897945,0.01092652712697121,0.03825053028162189,0.051629301308095565,0.029852801445517285,0.11649404640833544,0.1045074715687057,0.026080798476524003,0.018414570158474527,0.07053388222471517,0.02147796765018662,0.02622721311652872,0.014300197760438208,0.023846551192044672,0.023428034183418572,0.006371938604489425,0.01088252245122317,0.21189028275841326,0.14395530877184054,0.0066153345378212195,0.011462614702077153,0.0022069097881388345,0.005110988319461103,0.08338967843317835,0.011730930967631042,0.0045441478135197005,0.02443100400986417,1.787491357207218e-06,0.010824387634585304,0.009828830497417326,0.040932334911175865,0.04802662088121369,0.03415817058146388,0.0049754394923574455,0.04825608706776927,0.05382944758907692,0.037899528093326404,0.015523812419027184,6.176656121558398e-05,0.0033390763525458925,0.013947286415755406,0.09539218252569316,0.2019750500281557,0.029899011905087855,0.16413880488905952,0.0016369554567148658,0.0011398409102423722,0.1080924404277646,0.007431041031078921,0.0020961156194573955,0.005356333846278456,0.07150869874079813,0.16745611533873975,0.02419518995918594,0.007231628733271294,0.056502767682004344,0.0037675285662645062,0.006821584405726983,0.003374001797856708,0.007826901989234305,0.03993822972345028,0.005577791152463965,0.13978134707935091,0.00786320412535784,2.796759406638347e-06,0.09172077574325489,0.03177912307233615,0.011440356241928839,0.04702559715288964,0.002936788260420208,0.06534875317395572,0.00355411844998484,0.007336042962991458],"type":"densitymapbox"}],"name":"1"},{"data":[{"coloraxis":"coloraxis","customdata":[["7 Juni Plassen"],["AHO"],["Adamstuen"],["Aker Brygge"],["Akersgata"],["Alexander Kiellands Plass"],["Anker Hotel"],["Annette Thommessens Plass"],["Arendalsgata"],["Arkaden Nord"],["Arkaden S\u00f8r"],["Arkitekt Rivertz Plass"],["BI Nydalen"],["Badebakken"],["Bak Niels Treschows hus nord"],["Bak Niels Treschows hus s\u00f8r"],["Bankplassen"],["Bentsebrugata"],["Birkelunden"],["Biskop Gunnerus' gate"],["Bislett Stadion"],["Bislettgata"],["Bjerregaards gate"],["Bjerregaardsgate \u00d8st"],["Bj\u00f8lsen Studentby"],["Bj\u00f8lsen m\u00f8lle"],["Bj\u00f8lsendumpa"],["Bj\u00f8rvika"],["Blindern studentparkering"],["Bogstadveien"],["Borgenveien"],["Botanisk Hage s\u00f8r"],["Botanisk Hage vest"],["Botanisk hage s\u00f8r-vest"],["Briskeby"],["Brugata"],["Brynseng T-bane"],["Bygd\u00f8y all\u00e9"],["B\u00f8kkerveien"],["Carl Berners plass nord"],["Carl Berners plass s\u00f8r"],["Chr. Michelsens Gate"],["Colbj\u00f8rnsens gate"],["Colletts gate"],["Colosseum Kino"],["Det Teologiske fakultet"],["Diakonhjemmet"],["Dokkveien"],["Domus Athletica"],["Drammensveien"],["Dronningens gate"],["Dyvekes bru"],["D\u00e6lenenggata"],["Edvard Storms gate"],["Elisenberg"],["Enerhaugen"],["Ensj\u00f8 T-bane"],["Ensj\u00f8veien"],["Fagerheimgata"],["Filipstadveien"],["Finnmarksgata"],["Forskningsveien"],["Fram-g\u00e5rden"],["Fred Olsens gate"],["Fredensborg"],["Friggfeltet"],["Frogner Stadion"],["Frogner Tennisklubb"],["Frogner plass"],["Frognerbadet"],["Frognerstranda"],["Frognerveien"],["Fr\u00f8en T-bane"],["Furulund"],["Fyrstikktorget"],["Fysikkbygningen"],["Galgeberg"],["Gaustad T-bane"],["Georg Morgenstiernes hus"],["Gimle Kino"],["Goethe Institut"],["Grenseveien"],["Griffenfeldts gate"],["Gr\u00f8nlands torg"],["Gr\u00fcnerhagen Nord"],["Gunerius"],["Hallings gate"],["Hall\u00e9nparken"],["Hammersborg Torg"],["Hans Nielsen Hauges plass"],["Hasle"],["Hasle Torg"],["HasleLinje"],["Hausmanns bru"],["Hausmanns gate"],["Hedmarksgata"],["Helga Helgesens plass"],["Henrik Ibsens gate"],["Henrik Wergelands all\u00e9"],["Hesselbergs Gate"],["Hoff terrasse holdeplass"],["Hoffsveien"],["Holbergs Plass"],["Holbergs plass"],["Huitfeldts gate"],["Huk"],["Hydroparken"],["Idioten"],["Ila"],["Jakob kirke"],["Jarlsborgveien"],["Jenny Braatens Plass"],["Jens Bjelkes Gate"],["Jens Bjelkes gate"],["Jernbanetorget"],["Jess Carlsens gate"],["John Colletts plass"],["Jordalgata"],["Kampen park \u00d8st"],["Karenlyst all\u00e9"],["Karenslyst all\u00e9"],["Kirkegata 15"],["Kirkeristen"],["Kirkeveien"],["Kjeld Stubs gate"],["Klingenberggata"],["Kontraskj\u00e6ret"],["Krebs' gate"],["Kv\u00e6rnerbyen"],["Kv\u00e6rnerveien"],["K\u00f8benhavngata busstopp"],["Lakkegata"],["Landstads gate"],["Langkaia"],["Lille Grensen"],["Lille Schous plass"],["Lilleborgbanen"],["Linaaes gate"],["Lindern"],["Lodalen busstopp"],["L\u00f8renporten"],["L\u00f8renveien"],["Mailundveien"],["Majorstua skole"],["Majorstuen"],["Majorstuen T-bane"],["Majorstuveien"],["Mandalls gate"],["Marcus Thranes gate"],["Marienlyst"],["Marienlystparken"],["Meltzers gate"],["Monolittveien"],["Munkedamsveien"],["Munkegata"],["Munkegata trikkestopp"],["Myral\u00f8kka \u00d8st"],["M\u00f8lleparken"],["M\u00f8llergata"],["Nedre Slottsgate"],["Nordre gate"],["Norsk Folkemuseum"],["Nydalen"],["Nylandsveien"],["Olaf Ryes plass"],["Olav Kyrres plass"],["Oscars gate"],["Oslo Handelsgymnasium"],["Oslo Hospital"],["Oslo Plaza"],["OsloMet"],["Over R\u00e5dhusgata"],["Pal\u00e9haven"],["Parkveien"],["Pilestredet"],["Pilestredet 63"],["Pilestredet Studenthus"],["Professor Aschehougs plass"],["Riddervoldplass"],["Ringnes Park"],["Rolf Wickstr\u00f8ms vei"],["Rostockgata"],["Rusel\u00f8kkg\u00e5rden"],["R\u00e5dhusbrygge 4"],["R\u00e5dhusgata"],["Saga Kino"],["Sagene bussholdeplass"],["Salt"],["Schives gate"],["Schous plass"],["Schous plass trikkestopp"],["Sentrum Scene"],["Sinsen T-bane"],["Sinsenveien"],["Sirkustomta"],["Sj\u00f8lyst"],["Sj\u00f8siden ved fontenen"],["Sj\u00f8siden ved trappen"],["Skarpsnoparken"],["Skillebekk"],["Skippergata"],["Skovveien"],["Skr\u00e5ninga"],["Sk\u00f8yen"],["Sk\u00f8yen Stasjon"],["Slemdalsveien"],["Slottsparken \u00d8st"],["Sofienberggata"],["Sofienbergparken nord"],["Sofienbergparken nordvest"],["Sofienbergparken s\u00f8r"],["Sognsveien"],["Sommerfrydhagen"],["Sotahj\u00f8rnet"],["Spikersuppa Vest"],["Spikersuppa \u00d8st"],["St. Hanshaugen"],["St. Hanshaugen park nord"],["St. Hanshaugen park s\u00f8r"],["St. Hanshaugen park vest"],["St. Olavs gate"],["Stavangergata"],["Stensgata"],["Stensparken"],["Stjerneplassen"],["Stockfleths gate"],["Storo Storsenter"],["Stortingstunellen"],["Studenterlunden"],["Studentparlamentet"],["Suhms gate"],["Sukkerbiten"],["S\u00f8ndre gate"],["S\u00f8rvest for Slottsparken"],["Tannlegeh\u00f8yskolen"],["The Hub"],["Thereses gate"],["Thomas Heftyes plass"],["Thune"],["Tjuvholmen"],["Tordenskiolds gate"],["Torggata"],["Torshovdalen \u00f8st"],["Torshovparken vest"],["Trelastgata"],["Trondheimsveien"],["T\u00e5sen Senter"],["T\u00e5senl\u00f8kka"],["T\u00f8yen skole"],["T\u00f8yenbekken"],["T\u00f8yenparken"],["Uelands gate"],["Ullev\u00e5l sykehus"],["Ullev\u00e5lsall\u00e9en"],["Ullev\u00e5lsveien"],["Ulven Torg"],["Uranienborgparken"],["Uranienborgveien"],["Valkyrieplassen"],["Vaterlandsparken"],["Vestkanttorvet"],["Via Vika"],["Vippetangen vest"],["Vippetangen \u00f8st"],["Volvat"],["Vulkan"],["V\u00e5lerenga"],["V\u00e5r Frelsers gravlund s\u00f8r"],["\u00d8kern Portal"],["\u00d8kernveien"]],"hovertemplate":"Component=2<br>Popularity=%{z}<br>lat=%{lat}<br>lon=%{lon}<br>End station name=%{customdata[0]}<extra></extra>","lat":[59.9150596,59.925265,59.932792,59.91118372188379,59.9141971,59.92806670615684,59.9172794,59.9107393,59.9378,59.9121472,59.9119691,59.934936,59.949239,59.94558091179507,59.94278024854256,59.94247260310697,59.908454,59.93923,59.9256113,59.9123341,59.925471317049954,59.92377440938114,59.925488,59.92716771401357,59.943777539367225,59.9392403070359,59.94032925181832,59.909006,59.940873733543725,59.924732,59.94274210647367,59.91541769802439,59.92012811804052,59.91783548782385,59.920218,59.91366109486603,59.90918420865812,59.919001,59.9273747,59.926929,59.92507,59.927292,59.91731888534716,59.93068679863987,59.92984300295666,59.935342,59.9363277,59.910974,59.946219381760216,59.9204038,59.911392299457006,59.905323,59.9287502718149,59.919111,59.919524,59.91320242563816,59.9131891,59.91662195885618,59.92760586837719,59.9102277,59.922839,59.94545063370256,59.915424,59.9110506,59.920995,59.9327726,59.92753764682686,59.9261831,59.9225392,59.92808,59.9103558,59.9170851,59.9347352,59.9198098,59.91381587564694,59.937957367051965,59.90707579234818,59.945955,59.939025551395765,59.91728078292675,59.9131792,59.92464487862039,59.9337026,59.91252,59.9224256,59.91459878869395,59.922777,59.9315302,59.91652053839767,59.939244,59.924342,59.923240042155456,59.92763407981436,59.9146509,59.915451,59.91178403655783,59.9121109,59.915088,59.9268942,59.92774803110845,59.9272941,59.923898,59.9193095,59.9193095,59.9126844,59.898126,59.914145,59.93102013218461,59.931828,59.917866,59.9304645,59.928349,59.919179,59.919179,59.911901,59.9186359,59.940398,59.908227,59.915182,59.92033,59.92033,59.91015615055511,59.91300035973293,59.93347989334691,59.912711,59.913150534075015,59.910242,59.935995,59.904473,59.90591083488326,59.9294565845173,59.9172088,59.929005,59.9080552,59.9138973,59.920259,59.93363159074286,59.91382393242077,59.9358883,59.9034528,59.92871096669328,59.93087712510462,59.9309181,59.9294351,59.929045,59.92985724219502,59.926697,59.9123469,59.93277225626508,59.932432498521095,59.93215,59.9180141,59.935947,59.9135227,59.908255,59.908255,59.937205,59.9283928,59.91537003977052,59.913245,59.92114988507087,59.907674,59.952868,59.9156603,59.922425,59.9193337,59.9224222,59.914306,59.90321254732584,59.91218291295141,59.919927,59.9101207,59.910331,59.921768,59.9262242,59.9238826,59.9205528,59.9147672,59.9191421,59.92843404417577,59.9534114,59.90691970255054,59.91357497092093,59.9108469,59.910924,59.91424026794647,59.937743,59.90692216719828,59.92095635370271,59.920335,59.9207284,59.91546786564256,59.938863086921295,59.929542,59.919252,59.921673,59.91018085263352,59.91015446696496,59.914871,59.912793405455375,59.9112227,59.9163309,59.9139786,59.92226850808104,59.922723981014094,59.930596,59.917485,59.9212063,59.923229,59.9243639,59.922337,59.94743324225673,59.911453,59.9099822,59.91372007130073,59.91336,59.923703,59.92979845370007,59.924821,59.9268706,59.9179676629428,59.94114763297182,59.92958561753996,59.92714,59.91323316606503,59.9339754,59.94671044754387,59.91065301806209,59.914586,59.920852,59.929419,59.90512438070349,59.918632,59.915262,59.932383,59.91252237023375,59.9261462,59.91857814333677,59.92208,59.909467,59.91177629920927,59.91598309274519,59.93285662158759,59.93507,59.90800465532893,59.9230577,59.952659,59.9433939,59.914943,59.9115945,59.915667,59.929545,59.9360307,59.937913,59.9246852,59.92503517848644,59.922485,59.9200421,59.9281319,59.91351552854147,59.9244031,59.91271286014364,59.903989,59.903989,59.9330870371029,59.92251,59.908576,59.919463,59.930903961728745,59.9167376],"lon":[10.7312715,10.750462,10.734457,10.730034556850455,10.7428828,10.751202636819611,10.7581553,10.7609998,10.7541,10.7480527,10.7478583,10.749466,10.768576,10.760323881579982,10.722993731144015,10.723715245368956,10.741869,10.75917,10.760926,10.752292,10.73121932213806,10.734712874574,10.746058,10.749754560118864,10.760121127577955,10.768771317790996,10.766136667493829,10.75618,10.720778851520524,10.724628,10.70383303125402,10.76933022142641,10.768875408563598,10.766373769557958,10.717978,10.75729364846211,10.81431433498766,10.692321,10.7960147,10.776971,10.775996,10.773185,10.716909039918278,10.746273349149249,10.711284727205708,10.726472,10.7054333,10.7277001,10.724626314653564,10.691147,10.747281829592453,10.7689579,10.767546377298158,10.736179,10.70884,10.767579386407874,10.7897605,10.783309055819714,10.76598469881135,10.7208788,10.775658,10.713867957672134,10.714577,10.7493737,10.750358,10.7114661,10.71026280326126,10.7098327,10.7045406,10.708767,10.7051061,10.7128796,10.7096985,10.651118,10.798093360118871,10.719488529430388,10.779164402446728,10.710392,10.723002619643406,10.708375798767436,10.7607798,10.781726510450724,10.7519299,10.76224,10.7554274,10.753398500006654,10.738655,10.762169,10.749202233135232,10.774319,10.79285,10.792831438028704,10.799249379762283,10.7598719,10.758328,10.783884345957915,10.7661939,10.7222803,10.7207894,10.761265771390583,10.6755714,10.6760339,10.7343051,10.7343051,10.7229003,10.675096,10.715505,10.736036647971048,10.748745,10.754898,10.6757833,10.77837,10.764162,10.764162,10.749929,10.7523939,10.730036,10.781088,10.782129,10.683814,10.683814,10.743456971511703,10.746760585982289,10.726294394131088,10.735595,10.732281291700131,10.73857,10.765413,10.786167,10.778592132296495,10.769121495700826,10.7622135,10.7496755,10.7479977,10.7423101,10.760629,10.769118139881124,10.745704482209018,10.7350062,10.777958,10.79991480182082,10.791823716034967,10.7728203,10.7136816,10.716926,10.71456623677068,10.716195,10.7638147,10.758594919923468,10.721762294477472,10.723478,10.7184345,10.681138,10.7301061,10.7678,10.7678,10.7605813,10.7559693,10.748493387102522,10.743669,10.754714015938562,10.686843,10.766483,10.7622812,10.758182,10.6968953,10.7272388,10.720202,10.7673442932541,10.7544337247013,10.735428,10.7407129,10.75011,10.730476,10.7296246,10.7313627,10.7342854,10.740971,10.7196414,10.75943014633117,10.7577241,10.760311802881915,10.726229742333288,10.7303766,10.736215,10.732771354719745,10.751648,10.746530272588243,10.714055629614734,10.760804,10.7594857,10.751140873016311,10.780603250331886,10.781053,10.774712,10.67666,10.751698750995615,10.751980909227372,10.701037,10.710103028570302,10.7481976,10.716349,10.7474667,10.679579749668129,10.67862514536896,10.714778,10.732128,10.7699892,10.766171,10.7615858,10.7617503,10.732569703704817,10.776072,10.7914482,10.735886645853412,10.737663,10.740542,10.743540765932096,10.739909,10.7384634,10.738628884264756,10.750775120272449,10.732839000000013,10.730981,10.749958763650312,10.7521029,10.773805285879131,10.737365277561024,10.735453,10.733357,10.726195,10.753763553726516,10.757867,10.7253157,10.741475,10.750910185807754,10.7310355,10.703899530059402,10.68588,10.722509,10.735113005880237,10.75155119076095,10.777633472422016,10.76915,10.7625700380287,10.7717192,10.751165,10.7482848,10.773977,10.7617736,10.7775665,10.7489862,10.7364516,10.73048,10.7395045,10.81202182917832,10.720896,10.726634,10.71842,10.757334670552268,10.7130691,10.727170827087008,10.740627,10.741077,10.703967938028702,10.75101,10.786856,10.743829,10.80193969590286,10.779916],"name":"","opacity":0.5,"subplot":"mapbox","z":[0.053141060765481606,0.057697542781789,0.024139927185548995,0.05885658610559722,0.12901223274951842,0.127877527854819,0.032877841440306865,0.027256128912774895,0.026589979729531834,0.09491032392890655,0.0657868330337372,0.018330909496291337,0.04056131952735935,0.012243898406367665,0.010453583489833695,0.011015408982123866,0.0222168841467507,0.02355011274958394,0.10672454700662279,0.037589029804905326,0.0900164024435329,0.06557603900324302,0.05199097956912611,0.02714941178506805,0.02779966668777341,0.012610423268367454,0.01896703820273715,0.08774908587952422,0.011338949457901207,0.09504033596991866,0.011199119261531288,0.0774679387949611,0.010239435186868184,0.01879010904275026,0.03064135453184323,0.036156333878070906,0.011558159593075478,0.02487491879882038,0.008527237684955637,0.014468982373615656,0.056165777722667884,0.03351214287783097,0.02962980336014021,0.010384507954909554,0.030287180958748605,0.015121327376613408,0.008623147170725225,0.04230981867498838,0.004257290635320726,0.026195522427136644,0.022473260673507977,0.034643067647854416,0.028038209929207063,0.03531620883703685,0.057159190171506405,0.013690293234945559,0.022555237834608218,0.010343535436967604,0.04035196885754403,0.12671648081607018,0.018693897692054835,0.016353178150101618,0.039774093336098354,0.08032655437758549,0.05480465256874234,0.016126327082870293,0.038925584777335494,0.02261735380107143,0.08388194314873013,0.029426670767001607,0.09523584025978397,0.02131213671684666,0.009079886382647728,0.012519447075037007,0.01570369561244013,0.015101862735045364,0.033922508920468344,0.005467200339141779,0.01822273613624661,0.03265614421995402,0.00902576514694847,0.007050610979060293,0.012817380890128318,0.08372502371488473,0.05043784302985312,0.0008641979900803569,0.030985225150146217,0.02305941282524874,0.032035513479919155,0.020729062149689965,0.007123767998167309,0.025663086197743,0.0013360998185308547,0.03040517521790054,0.03068475584443247,0.006783968855344498,0.12117367416807028,0.03447129564479124,0.007894613274444304,0.004497183929557749,0.0076598520808922755,0.027495762028137995,0.03539871183987764,0.0005236270020926984,0.045038082578245715,0.24775360131096968,0.028983853352123713,0.01637197348337507,0.014896405866172842,0.10176789767585326,0.0058498761068920355,0.021875517902731755,0.025265471307289813,0.06258226524512941,0.1094724942941219,0.06228886697261203,0.012274959708401926,0.024227951861303852,0.007187892606142961,0.08368418061143768,6.61002463055885e-05,0.019146259534166588,0.20068620812288318,0.015080870522996429,0.01065993600238033,0.007012816309803679,0.04587807176332598,0.025524815224757903,0.049701292567444766,0.0011259761918407702,0.017148127399377242,0.049840940421236345,0.02500215165641842,0.020207785669439416,0.056841675301270024,0.011584473530521007,0.03105969254658291,0.05619601812458146,0.009535415893287944,0.010654017925516911,0.004280253017767591,0.02210604539837961,0.007269511384537674,0.039877825022206055,0.11808937493029947,0.01450870801563514,0.026635356430963052,0.039712066559977686,0.04704534957935774,0.020215305851228684,0.029946628601112902,0.017277669631345412,0.011693546950273385,0.016927504048483435,0.008830388412036897,0.06986895010127317,0.0287675670996623,0.040161485590986874,0.06126910551302837,0.022692766095295167,0.07840673439431362,0.06307028442555111,0.011410702607681632,0.019942244575378465,0.2064033834162578,0.010252085573051673,0.08495132343850148,0.03396805700173578,0.07302096947926089,0.021483336986608932,0.0389495584988872,0.018790272182169707,0.16724830996606072,0.022120038953778717,0.02028901583096582,0.028121170755193502,0.017598477378360837,0.03774052326254589,0.0274282539181745,0.13295559124869455,0.005351109195525083,0.00024603008550235634,0.020270501167844672,0.3199285580326343,0.061278344908191215,0.10340145201034652,0.03118807183048192,0.03672901439483262,0.020809732682396914,0.1233990505331906,0.025609953708313843,0.08445683553243268,0.021853832093905536,0.011333229679194314,0.04286527869337441,0.020994672746704947,0.13535261146185412,0.15220685088060193,0.0138792942554064,0.07676198789794089,0.03527996603815546,0.05285755404729305,0.11250676530698495,0.052566934319070384,0.019397082102562753,0.024858418401666364,0.04570179558435256,0.0358945882116655,0.04715528108177939,0.0711721607629976,0.038637229343681634,0.03659074073252328,0.03720672759544177,0.015704759481486506,0.11037909611713778,0.08028489391044313,0.03038603653845649,0.016536784425905882,0.03532579329377,0.022591314162888714,0.06996984518761387,0.029635521487008716,0.0290714399985598,0.049080993499057764,2.6269223230052162e-05,0.014399611218907761,0.05477778134236067,0.02100434797836186,0.049794417862969904,0.027878495839398734,0.025013396668882658,0.247523353806736,0.1272533545536147,0.015605022942021634,0.018608704069880123,0.00015441908038456032,0.014839182774295424,0.04283786702291012,0.024049875953779803,0.16679369308783992,0.011540084278280878,0.18892724539275782,0.016008215276097023,0.014219606911088124,0.03544329028082765,0.02773532006875594,0.014584363154221036,0.021304252007671345,0.08402973659904103,0.046500384528654196,0.031241282630389652,0.019598131382897403,0.026349635994263324,0.010352320864621125,0.022105828039666577,0.0013713665701125066,0.017892785405318818,0.05578348186637014,0.0415137863827963,0.12419262935708289,0.03225832525793896,7.601618275681921e-08,0.03629745288510652,0.019818064254677994,0.014605774146258967,0.08409419901943407,0.015951678674630772,0.0733415281176661,0.0016543306252763358,0.01318167975705847],"type":"densitymapbox"}],"name":"2"}]);
                        })                };                            </script>        </div>
</div>
<br />
<br /><p>We see that there are three distinct patterns. Component 0 is spread across most of the city, while component 1
is focused on central areas. Component 2 is also spread widely, but has a strong signal at leisure-places like the
beach at Bygdøy.</p>
</section>
<section id="plotting-the-various-time-components">
<h2>Plotting the various time-components<a class="headerlink" href="#plotting-the-various-time-components" title="Permalink to this heading">¶</a></h2>
<section id="time-of-day">
<h3>Time of day<a class="headerlink" href="#time-of-day" title="Permalink to this heading">¶</a></h3>
<p>First, we look at the time-of-day components to see if these reveal what kind of patterns the different components
represent.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">px</span><span class="o">.</span><span class="n">line</span><span class="p">(</span>
    <span class="n">tlviz</span><span class="o">.</span><span class="n">postprocessing</span><span class="o">.</span><span class="n">factor_matrix_to_tidy</span><span class="p">(</span><span class="n">hour</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="s2">&quot;Popularity&quot;</span><span class="p">),</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Hour&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Popularity&quot;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;Component&quot;</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script src="https://cdn.plot.ly/plotly-2.17.1.min.js"></script>                <div id="edacb312-d0fe-48b8-af63-7d7ed9d1c544" class="plotly-graph-div" style="height:525px; width:600px;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("edacb312-d0fe-48b8-af63-7d7ed9d1c544")) {                    Plotly.newPlot(                        "edacb312-d0fe-48b8-af63-7d7ed9d1c544",                        [{"hovertemplate":"Component=0<br>Hour=%{x}<br>Popularity=%{y}<extra></extra>","legendgroup":"0","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"0","orientation":"v","showlegend":true,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"xaxis":"x","y":[0.04122956082323083,0.005094841165511005,0.0001414315351807139,9.169445935495079e-05,1.1111134162121875e-05,0.00683739636733935,0.02006412883710993,0.03850415839859999,0.0,0.005009222703725771,0.02102485126691597,0.030223173735381706,0.0368711686281599,0.051494180556419814,0.10670594911122837,0.2533911006630491,0.5015960148712331,0.4677436797220666,0.39086412559362216,0.326595119277422,0.26666283817628267,0.23148173103088643,0.2113007595043165,0.12725803359296597],"yaxis":"y","type":"scatter"},{"hovertemplate":"Component=1<br>Hour=%{x}<br>Popularity=%{y}<extra></extra>","legendgroup":"1","line":{"color":"#EF553B","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"1","orientation":"v","showlegend":true,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"xaxis":"x","y":[0.0,0.0,0.0,0.0,0.0,0.019487745035563223,0.127604168716097,0.46176275419624296,0.7783126445131157,0.32053144486783713,0.12134538180346482,0.09372294254053466,0.06900658739117953,0.04786934299714612,0.05617265203729569,0.07809938224824878,0.10798603495219737,0.08766632411692382,0.046620987961993696,0.01627093300999283,0.0,0.0,0.0,0.0],"yaxis":"y","type":"scatter"},{"hovertemplate":"Component=2<br>Hour=%{x}<br>Popularity=%{y}<extra></extra>","legendgroup":"2","line":{"color":"#00cc96","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"2","orientation":"v","showlegend":true,"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"xaxis":"x","y":[0.08015356487158734,0.013886681370487756,0.0005617504813237517,0.00015866665126146426,5.6239813415465885e-05,0.006618133790999721,0.01319916360657901,0.01765935020491153,0.03781340257438804,0.1316060059197773,0.1952788808867332,0.2762311397081,0.35495227397432905,0.3880402679120036,0.3947765410332272,0.370964066474774,0.2797531874072416,0.27080569712323915,0.24179135695996629,0.19858311848485583,0.14824356414463236,0.09241392515600445,0.06811099141597433,0.07059865339956868],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Hour"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Popularity"}},"legend":{"title":{"text":"Component"},"tracegroupgap":0},"margin":{"t":60},"width":600},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>We see that the first component shows a strong signal after 16:00, which is when a normal working day in Norway ends.
Likewise, the second component shows the strongest signal at 08:00, which is when a normal working day in Norway
starts. This indicates that the first two components represent getting to and from work. The third component shows
activity during midday, which combined with the map-plot above indicates that it represents leisurely activities.</p>
</section>
<section id="weekday">
<h3>Weekday<a class="headerlink" href="#weekday" title="Permalink to this heading">¶</a></h3>
<p>Next, we look at the weekday components.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tidy_day_of_week</span> <span class="o">=</span> <span class="n">tlviz</span><span class="o">.</span><span class="n">postprocessing</span><span class="o">.</span><span class="n">factor_matrix_to_tidy</span><span class="p">(</span><span class="n">day_of_week</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="s2">&quot;Popularity&quot;</span><span class="p">)</span>

<span class="n">px</span><span class="o">.</span><span class="n">line</span><span class="p">(</span>
    <span class="n">tidy_day_of_week</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Day of week&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Popularity&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;Component&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">600</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script src="https://cdn.plot.ly/plotly-2.17.1.min.js"></script>                <div id="aa1be8e3-0a0d-493e-bfd4-e60bbe5e7fae" class="plotly-graph-div" style="height:525px; width:600px;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("aa1be8e3-0a0d-493e-bfd4-e60bbe5e7fae")) {                    Plotly.newPlot(                        "aa1be8e3-0a0d-493e-bfd4-e60bbe5e7fae",                        [{"hovertemplate":"Component=0<br>Day of week=%{x}<br>Popularity=%{y}<extra></extra>","legendgroup":"0","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"0","orientation":"v","showlegend":true,"x":[0,1,2,3,4,5,6],"xaxis":"x","y":[0.4468068270520226,0.4816300131217278,0.4553124451424253,0.4337562544195403,0.32991171426782845,0.17789122381680122,0.18015341264669021],"yaxis":"y","type":"scatter"},{"hovertemplate":"Component=1<br>Day of week=%{x}<br>Popularity=%{y}<extra></extra>","legendgroup":"1","line":{"color":"#EF553B","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"1","orientation":"v","showlegend":true,"x":[0,1,2,3,4,5,6],"xaxis":"x","y":[0.42301727899613867,0.47550093119045667,0.47687341772538455,0.4466935902302036,0.40820211732770356,0.03527443604570666,0.011771643585783767],"yaxis":"y","type":"scatter"},{"hovertemplate":"Component=2<br>Day of week=%{x}<br>Popularity=%{y}<extra></extra>","legendgroup":"2","line":{"color":"#00cc96","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"2","orientation":"v","showlegend":true,"x":[0,1,2,3,4,5,6],"xaxis":"x","y":[0.2729076850181948,0.2662689532012345,0.29765790873173686,0.34936964937193876,0.4227134869234596,0.5801058471956498,0.3588222004123121],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Day of week"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Popularity"}},"legend":{"title":{"text":"Component"},"tracegroupgap":0},"margin":{"t":60},"width":600},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>Here, we see that the first two components are the most active on weekdays, which is when people mostly work.
The morning component barely shows any signal in the weekends at all and the leisure component has the strongest
signal on Saturdays.</p>
</section>
<section id="month-plots">
<h3>Month plots<a class="headerlink" href="#month-plots" title="Permalink to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tidy_month</span> <span class="o">=</span> <span class="n">tlviz</span><span class="o">.</span><span class="n">postprocessing</span><span class="o">.</span><span class="n">factor_matrix_to_tidy</span><span class="p">(</span><span class="n">month</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="s2">&quot;Popularity&quot;</span><span class="p">)</span>

<span class="n">px</span><span class="o">.</span><span class="n">line</span><span class="p">(</span>
    <span class="n">tidy_month</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Month&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Popularity&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;Component&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script src="https://cdn.plot.ly/plotly-2.17.1.min.js"></script>                <div id="993c0216-50c5-4340-a726-0a9bf6daa1fb" class="plotly-graph-div" style="height:525px; width:600px;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("993c0216-50c5-4340-a726-0a9bf6daa1fb")) {                    Plotly.newPlot(                        "993c0216-50c5-4340-a726-0a9bf6daa1fb",                        [{"hovertemplate":"Component=0<br>Month=%{x}<br>Popularity=%{y}<extra></extra>","legendgroup":"0","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"0","orientation":"v","showlegend":true,"x":[1,2,3,4,5,6,7,8,9,10,11,12],"xaxis":"x","y":[0.01728510062533965,0.017087861407043957,0.06723429521377995,0.19732579545246534,0.2850862455485966,0.492374616327874,0.2880545440714156,0.47772656865692537,0.4716701735400908,0.26547536218516365,0.16068145846787685,0.047726655959635995],"yaxis":"y","type":"scatter"},{"hovertemplate":"Component=1<br>Month=%{x}<br>Popularity=%{y}<extra></extra>","legendgroup":"1","line":{"color":"#EF553B","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"1","orientation":"v","showlegend":true,"x":[1,2,3,4,5,6,7,8,9,10,11,12],"xaxis":"x","y":[0.033740219181072846,0.02790062644899045,0.06235025125357315,0.14594244457822803,0.23558421814883967,0.44226161398551206,0.23266584646146177,0.4607903314141891,0.5236189840924911,0.36443513720781034,0.21229989290214274,0.05726222797122068],"yaxis":"y","type":"scatter"},{"hovertemplate":"Component=2<br>Month=%{x}<br>Popularity=%{y}<extra></extra>","legendgroup":"2","line":{"color":"#00cc96","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"2","orientation":"v","showlegend":true,"x":[1,2,3,4,5,6,7,8,9,10,11,12],"xaxis":"x","y":[0.03151878738907587,0.03175269609240598,0.09427486895645762,0.2592210225177447,0.3979198050573592,0.48801180416559875,0.4459223878720999,0.44544983155599815,0.2473315442326177,0.21710407488172642,0.13338204131559359,0.04526788211916569],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Month"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Popularity"}},"legend":{"title":{"text":"Component"},"tracegroupgap":0},"margin":{"t":60},"width":600},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>The month-mode components show reasonable patterns. People bike the most during summer, but the work-components
get a dip during July, when most people are on holidays</p>
</section>
<section id="year">
<h3>Year<a class="headerlink" href="#year" title="Permalink to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">px</span><span class="o">.</span><span class="n">line</span><span class="p">(</span>
    <span class="n">tlviz</span><span class="o">.</span><span class="n">postprocessing</span><span class="o">.</span><span class="n">factor_matrix_to_tidy</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="s2">&quot;Popularity&quot;</span><span class="p">),</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Year&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Popularity&quot;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;Component&quot;</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script src="https://cdn.plot.ly/plotly-2.17.1.min.js"></script>                <div id="6938439c-1f25-437d-acd1-4cba99f1ec60" class="plotly-graph-div" style="height:525px; width:600px;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("6938439c-1f25-437d-acd1-4cba99f1ec60")) {                    Plotly.newPlot(                        "6938439c-1f25-437d-acd1-4cba99f1ec60",                        [{"hovertemplate":"Component=0<br>Year=%{x}<br>Popularity=%{y}<extra></extra>","legendgroup":"0","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"0","orientation":"v","showlegend":true,"x":[2020,2021],"xaxis":"x","y":[0.8408306155473632,0.541298324363047],"yaxis":"y","type":"scatter"},{"hovertemplate":"Component=1<br>Year=%{x}<br>Popularity=%{y}<extra></extra>","legendgroup":"1","line":{"color":"#EF553B","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"1","orientation":"v","showlegend":true,"x":[2020,2021],"xaxis":"x","y":[0.7617901409457356,0.6478238812809205],"yaxis":"y","type":"scatter"},{"hovertemplate":"Component=2<br>Year=%{x}<br>Popularity=%{y}<extra></extra>","legendgroup":"2","line":{"color":"#00cc96","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"2","orientation":"v","showlegend":true,"x":[2020,2021],"xaxis":"x","y":[0.7909110909209269,0.6119310796636083],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Year"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Popularity"}},"legend":{"title":{"text":"Component"},"tracegroupgap":0},"margin":{"t":60},"width":600},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>We see that there is  overall less biking in 2021 than in 2020. Perhaps people biked more early in the pandemic
when most public transport was closed?</p>
</section>
</section>
<section id="important-about-including-factor-metadata">
<h2>Important about including factor metadata<a class="headerlink" href="#important-about-including-factor-metadata" title="Permalink to this heading">¶</a></h2>
<p>By including factor metadata, we add additional columns to the factor matrices. As a consequence, some of the
functions in <code class="docutils literal notranslate"><span class="pre">tlviz</span></code> will no longer work properly on CP tensors with metadata on the factor matrices.
It can therefore be beneficial to not include the metadata in the beginning (this is the default behaviour of
<code class="docutils literal notranslate"><span class="pre">postprocess</span></code>) and only add the metadata in the end. Alternatively, it can be useful to have a normally
postprocessed CP tensor as well as a CP tensor with metadata.</p>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  6.291 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-plot-bike-plotly-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../_downloads/e2becf74717b54a00541a9e62315f4db/plot_bike_plotly.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_bike_plotly.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../_downloads/88ef9ef1a0c5528731251bf4e409a568/plot_bike_plotly.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_bike_plotly.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>


      </div>

      
        <nav class="pagination" role="navigation" aria-label="pagination">
    
    <a class="button pagination-previous" href="plot_core_consistency.html" title="previous page" accesskey="p">
        <span class="icon">
            <i class="fa fa-arrow-circle-left"></i>
        </span>
        <span>Core consistency</span>
    </a>
    
    
    <a class="button pagination-next" href="plot_optimisation_diagnostic.html" title="next page" accesskey="n">
        <span>Optimisation diagnostics with PARAFAC models </span>
        <span class="icon">
            <i class="fa fa-arrow-circle-right"></i>
        </span>
    </a>
    
</nav>

      

        <footer class="footer">
    <div class="content has-text-centered">
        <div class="block">
          &copy; Copyright 2021, Marie Roald &amp; Yngve Mardal Moe.<br/>
        </div>
      <div class="block">
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> and the <a href="http://tensorly.org"><strong>TensorLy</strong></a> theme by <a href="http://jeankossaifi.com">Jean Kossaifi</a>.
      </div>
    </div>
  </footer>

    </div>

  </div>  

	
    
    <div class="column is-hidden-touch is-2-desktop is-one-fifth-widescreen" id="localtoc-column">

    <aside class="sticky-nav localtoc"> 
        <p class="menu-label"> 
            <span class="icon-text">
                <span class="icon"><i class="fas fa-duotone fa-list"></i></span>
                <span> On this page </span>
            </span>
        </p>

        <div class="menu menu-list localtoc-list">
        <ul>
<li><a class="reference internal" href="#">TLViz + PlotLy for interactive visualisations</a><ul>
<li><a class="reference internal" href="#imports-and-utilities">Imports and utilities</a></li>
<li><a class="reference internal" href="#loading-the-data">Loading the data</a></li>
<li><a class="reference internal" href="#fitting-the-model">Fitting the model</a></li>
<li><a class="reference internal" href="#postprocessing">Postprocessing</a></li>
<li><a class="reference internal" href="#converting-the-data-to-a-tidy-format">Converting the data to a tidy format</a></li>
<li><a class="reference internal" href="#density-map-of-the-end-station-components">Density map of the end station components</a></li>
<li><a class="reference internal" href="#plotting-the-various-time-components">Plotting the various time-components</a><ul>
<li><a class="reference internal" href="#time-of-day">Time of day</a></li>
<li><a class="reference internal" href="#weekday">Weekday</a></li>
<li><a class="reference internal" href="#month-plots">Month plots</a></li>
<li><a class="reference internal" href="#year">Year</a></li>
</ul>
</li>
<li><a class="reference internal" href="#important-about-including-factor-metadata">Important about including factor metadata</a></li>
</ul>
</li>
</ul>

        </div>
    </aside>
    </div>

  

  </div>  
  </div> 

  
  <script>
    function toggle_sidebar() {
        var element = document.getElementById("sidebar");
        var container = document.getElementById("column-container");
        var localtoccolumn = document.getElementById("localtoc-column");
        element.classList.toggle("hide-tablet");
        element.classList.toggle("is-hidden-mobile");
        container.classList.toggle("sidemenu-hidden");
        localtoccolumn.classList.toggle("is-one-fifth-widescreen");
        localtoccolumn.classList.toggle("is-2-desktop");
        localtoccolumn.classList.toggle("is-3-desktop");
    }
  </script> 



  </body>
</html>